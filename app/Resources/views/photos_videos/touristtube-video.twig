{% extends 'baseFinal.html.twig' %}

{% block pagenewjs %}
    <script type="text/javascript">      
        var regWidth;
        var regHeight;
        $(window).bind('resize',function(){
            refreshVideos('flashcontentmedia');
        });
       
        $(document).ready(function() {
	    setTimeout(function () {               
		regWidth = $('.video_detimg').width();                     
		regHeight = $('.video_detimg').height(); 
		EmbedFlashJW('flashcontentmedia', '{{ generateMediaURL('media/images/emails/tt_presentation.mp4')}}', regWidth, regHeight, '' , 0,0,0,true);

		jwplayer('flashcontentmedia').on('error', function() {
		    setTimeout(function () {
			EmbedFlashJW('flashcontentmedia', '{{ generateMediaURL('media/images/emails/tt_presentation.mp4')}}', regWidth, regHeight, '' , 0,0,0,true);
		    }, 1500);
		})
		$('.video_detimg').on('load', function() { 
		     refreshVideos('flashcontentmedia');
		});
                
		jwplayer('flashcontentmedia').on('play', function() {
			var thisplay = $(this);
			$('.jwplayer').each(function(){
			    var $thisjw = $(this);
			    if( thisplay[0].id != $thisjw.attr('id') )jwplayer($thisjw.attr('id')).stop();
			});
		    }
		)
            }, 2500);
        });
        function refreshVideos(id){
            regWidth = $('.video_detimg').width();                     
            regHeight = $('.video_detimg').height();
            var playerInstance = jwplayer(id);
            playerInstance.resize(regWidth,regHeight);
        }
    </script>
{% endblock %}
{% block body %}

    <section class="media-container">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div class="row no-margin margin_top_20">
                        <div class="col-xs-12 nopad">
                            <h1 class="search_title"><span class="circlimg_arrow"><i class="fas fa-angle-right"></i></span>{{'Video'|trans}}</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container hidden-xs">	    
            <div class="row no-margin">
                <div class="col-xs-12 nopad">
		    <div class="row no-margin">
			<div class="col-xs-12 nopad margin_top_10 blackBg">
			    <div class="vid_img">
				<div id="flashcontentmedia"></div>
			    </div>
			    <img class="col-xs-12 nopad video_detimg" src="{{ generateMediaURL('/media/images/media-black-photo.jpg') }}" alt="{{'black'|trans}}"/>
			</div>
		    </div>
                    <div class="row no-margin">
			<div class="col-xs-12 nopad margin_top_20">
			    {% if isUserLoggedIn==1 %}
				<h3 class="categorie_txt"><a class="valbum_name" href="{{ generateLangRoute(LanguageGet,'_account_info') }}" title="tourist tube">{{'Go To Your Account'|trans}}</a></h3>
			    {% else %}
				<h3 class="categorie_txt"><a class="valbum_name" href="{{ generateLangRoute(LanguageGet,'_welcome') }}" title="tourist tube">{{'Go To Touristtube Home Page'|trans}}</a></h3>
			    {% endif %}
			</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}