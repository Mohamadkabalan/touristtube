/*!
 * fancyBox - jQuery Plugin
 * version: 2.0.6 (Thu, 19 Jul 2012)
 * touch version: 0.1.0 (2.7.14)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(g,m,e,f){var c=e(g),l=e(m),k=e.fancybox=function(){k.open.apply(this,arguments)},o=null,n=null,d=false,p=false,i=m.createTouch!==f,h=function(s){return s&&s.hasOwnProperty&&s instanceof e},j=function(s){return s&&e.type(s)==="string"},r=function(s){return j(s)&&s.indexOf("%")>0},a=function(s){return(s&&!(s.style.overflow&&s.style.overflow==="hidden")&&((s.clientWidth&&s.scrollWidth>s.clientWidth)||(s.clientHeight&&s.scrollHeight>s.clientHeight)))},q=function(s,t){if(t&&r(s)){s=k.getViewport()[t]/100*parseInt(s,10)}return Math.ceil(s)},b=function(s,t){return q(s,t)+"px"};e.extend(k,{version:"2.0.6",defaults:{padding:0,margin:0,width:800,height:600,minWidth:100,minHeight:67,maxWidth:9999,maxHeight:9999,minMoveX:17,minMoveY:17,preventE:true,autoSize:true,autoHeight:false,autoWidth:false,autoResize:!i,autoCenter:!i,fitToView:true,aspectRatio:false,topRatio:0.5,fixed:false,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"right",34:"down",39:"right",40:"down"},prev:{8:"left",33:"up",37:"left",38:"up"},close:[27],play:[32],toggle:[70]},direction:{next:"right",prev:"left"},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0"'+(e.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"none",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"none",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:250,opacity:0.8,css:{cursor:"pointer"},closeClick:true},title:{type:"float"}},onCancel:e.noop,beforeLoad:e.noop,afterLoad:e.noop,beforeShow:e.noop,afterShow:e.noop,beforeChange:e.noop,beforeClose:e.noop,afterClose:e.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,s){if(!t){return}s=e.isPlainObject(s)?s:{};k.close(true);if(!e.isArray(t)){t=h(t)?e(t).get():[t]}e.each(t,function(y,z){var x={},u,C,A,B,w,D,v;if(e.type(z)==="object"){if(z.nodeType){z=e(z)}if(h(z)){x={href:z.attr("href"),title:z.attr("title"),isDom:true,element:z};if(e.metadata){e.extend(true,x,z.metadata())}}else{x=z}}u=s.href||x.href||(j(z)?z:null);C=s.title!==f?s.title:x.title||"";A=s.content||x.content;B=A?"html":(s.type||x.type);if(!B&&x.isDom){B=z.data("fancybox-type");if(!B){w=z.prop("class").match(/fancybox\.(\w+)/);B=w?w[1]:null}}if(j(u)){if(!B){if(k.isImage(u)){B="image"}else{if(k.isSWF(u)){B="swf"}else{if(u.charAt(0)==="#"){B="inline"}else{if(j(z)){B="html";A=z}}}}}if(B==="ajax"){D=u.split(/\s+/,2);u=D.shift();v=D.shift()}}if(!A){if(B==="inline"){if(u){A=e(j(u)?u.replace(/.*(?=#[^\s]+$)/,""):u)}else{if(x.isDom){A=z}}}else{if(B==="html"){A=u}else{if(!B&&!u&&x.isDom){B="inline";A=z}}}}e.extend(x,{href:u,type:B,content:A,title:C,selector:v});t[y]=x});k.opts=e.extend(true,{},k.defaults,s);if(s.keys!==f){k.opts.keys=s.keys?e.extend({},k.defaults.keys,s.keys):false}k.group=t;return k._start(k.opts.index||0)},cancel:function(){var s=k.coming;if(!s||false===k.trigger("onCancel")){return}k.hideLoading();if(s.wrap){s.wrap.stop().trigger("onReset").remove()}k.coming=null;if(k.ajaxLoad){k.ajaxLoad.abort()}k.ajaxLoad=null;if(k.imgPreload){k.imgPreload.onload=k.imgPreload.onerror=null}},close:function(s){k.cancel();if(!k.current||false===k.trigger("beforeClose")){return}k.unbindEvents();if(!k.isOpen||s===true){e(".fancybox-wrap").stop().trigger("onReset").remove();k._afterZoomOut()}else{k.isOpen=k.isOpened=false;k.isClosing=true;e(".fancybox-item").remove();k.wrap.stop(true).removeClass("fancybox-opened");if(k.wrap.css("position")==="fixed"){k.wrap.css(k._getPosition(true))}k.transitions[k.current.closeMethod]()}},play:function(u){var s=function(){clearTimeout(k.player.timer)},w=function(){s();if(k.current&&k.player.isActive){k.player.timer=setTimeout(k.next,k.current.playSpeed)}},t=function(){s();e("body").unbind(".player");k.player.isActive=false;k.trigger("onPlayEnd")},v=function(){if(k.current&&(k.current.loop||k.current.index<k.group.length-1)){k.player.isActive=true;e("body").bind({"afterShow.player onUpdate.player":w,"onCancel.player beforeClose.player":t,"beforeLoad.player":s});w();k.trigger("onPlayStart")}};if(u===true||(!k.player.isActive&&u!==false)){v()}else{t()}},next:function(t){var s=k.current;if(s){if(!j(t)){t=s.direction.next}k.jumpto(s.index+1,t,"next")}},prev:function(t){var s=k.current;if(s){if(!j(t)){t=s.direction.prev}k.jumpto(s.index-1,t,"prev")}},startTouch:function(s){if(s.touches.length==1){o=s.touches[0].pageX;n=s.touches[0].pageY;d=true;this.addEventListener("touchmove",k.moveTouch,false);this.addEventListener("touchend",k.cancelTouch,false)}},moveTouch:function(w){if(k.preventE){w.preventDefault()}if(d){var t=w.touches[0].pageX;var A=w.touches[0].pageY;var v=o-t;var u=n-A;var s=k.current.minMoveX;var z=k.current.minMoveY;if(Math.abs(v)>=s){k.cancelTouch();if(v>0){k.next()}else{k.prev()}}}},cancelTouch:function(){m.body.removeEventListener("touchmove",k.moveTouch,false);m.body.removeEventListener("touchend",k.cancelTouch,false);o=null;n=null;d=false},jumpto:function(t,v,s){var u=k.current;if(!u){return}t=parseInt(t,10);k.direction=v||(t>u.index?"right":"left");k.router=s||"jumpto";if(u.loop){if(t<0){t=u.group.length+(t%u.group.length)}t=t%u.group.length}if(u.group[t]!==f){k.cancel();k._start(t)}},reposition:function(t,s){var u;if(k.isOpen){u=k._getPosition(s);if(t&&t.type==="scroll"){delete u.position;k.wrap.stop(true,true).animate(u,200)}else{k.wrap.css(u)}}},update:function(u){var t=!u||(u&&u.type==="orientationchange"),s=u&&u.type==="scroll";if(t){clearTimeout(p);p=null}if(!k.isOpen||p){return}if(t&&i){k.wrap.removeAttr("style").addClass("fancybox-tmp");k.trigger("onUpdate")}p=setTimeout(function(){var v=k.current;p=null;if(!v){return}k.wrap.removeClass("fancybox-tmp");if((v.autoResize&&!s)||t){k._setDimension();k.trigger("onUpdate")}if((v.autoCenter&&!(s&&v.canShrink))||t){k.reposition(u)}k.trigger("onUpdate")},(t?20:300))},toggle:function(s){if(k.isOpen){k.current.fitToView=e.type(s)==="boolean"?s:!k.current.fitToView;k.update()}},hideLoading:function(){l.unbind("keypress.fb");e("#fancybox-loading").remove()},showLoading:function(){var t,s;k.hideLoading();l.bind("keypress.fb",function(u){if((u.which||u.keyCode)===27){u.preventDefault();k.cancel()}});t=e('<div id="fancybox-loading"><div></div></div>').click(k.cancel).appendTo("body");if(k.coming&&!k.coming.fixed){s=k.getViewport();t.css({position:"absolute",top:(s.h*0.5)+s.y,left:(s.w*0.5)+s.x})}},getViewport:function(){return{x:c.scrollLeft(),y:c.scrollTop(),w:i&&g.innerWidth?g.innerWidth:c.width(),h:i&&g.innerHeight?g.innerHeight:c.height()}},unbindEvents:function(){if(k.wrap&&h(k.wrap)){k.wrap.unbind(".fb")}l.unbind(".fb");c.unbind(".fb")},bindEvents:function(){var t=k.current,s;if(!t){return}c.bind("resize.fb orientationchange.fb"+(t.autoCenter&&!t.fixed?" scroll.fb":""),k.update);s=t.keys;if(s){l.bind("keydown.fb",function(w){var u=w.which||w.keyCode,v=w.target||w.srcElement;if(!w.ctrlKey&&!w.altKey&&!w.shiftKey&&!w.metaKey&&!(v&&(v.type||e(v).is("[contenteditable]")))){e.each(s,function(x,y){if(t.group.length>1&&y[u]!==f){k[x](y[u]);w.preventDefault();return false}if(e.inArray(u,y)>-1){k[x]();w.preventDefault();return false}})}})}if(e.fn.mousewheel&&t.mouseWheel){k.wrap.bind("mousewheel.fb",function(z,A,v,u){var y=z.target||null,w=e(y),x=false;while(w.length){if(x||w.is(".fancybox-skin")||w.is(".fancybox-wrap")){break}x=a(w[0]);w=e(w).parent()}if(A!==0&&!x){if(k.group.length>1&&!t.canShrink){if(u>0||v>0){k.prev(u>0?"up":"left")}else{if(u<0||v<0){k.next(u<0?"down":"right")}}z.preventDefault()}else{if(k.wrap.css("position")==="fixed"){z.preventDefault()}}}})}},trigger:function(t,v){var s,u=v||k[e.inArray(t,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(!u){return}if(e.isFunction(u[t])){s=u[t].apply(u,Array.prototype.slice.call(arguments,1))}if(s===false){return false}if(u.helpers){e.each(u.helpers,function(x,w){if(w&&k.helpers[x]&&e.isFunction(k.helpers[x][t])){k.helpers[x][t](w,u)}})}e.event.trigger(t+".fb")},isImage:function(s){return j(s)&&s.match(/\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$/i)},isSWF:function(s){return j(s)&&s.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var u={},y=k.group[t]||null,s,v,w,x;if(!y){return false}u=e.extend(true,{},k.opts,y);w=u.margin;x=u.padding;if(e.type(w)==="number"){u.margin=[w,w,w,w]}if(e.type(x)==="number"){u.padding=[x,x,x,x]}if(u.modal){e.extend(true,u,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:false}}})}if(u.autoSize){u.autoWidth=u.autoHeight=true}if(u.width==="auto"){u.autoWidth=true}if(u.height==="auto"){u.autoHeight=true}u.group=k.group;u.index=t;k.coming=u;if(false===k.trigger("beforeLoad")){k.coming=null;return}v=u.type;s=u.href;if(!v){k.coming=null;if(k.current&&k.router&&k.router!=="jumpto"){k.current.index=t;return k[k.router](k.direction)}return false}k.isActive=true;if(v==="image"||v==="swf"){u.autoHeight=u.autoWidth=false;u.scrolling="visible"}if(v==="image"){u.aspectRatio=true}if(v==="iframe"&&i){u.scrolling="scroll"}u.wrap=e(u.tpl.wrap).addClass("fancybox-"+(i?"mobile":"desktop")+" fancybox-type-"+v+" fancybox-tmp "+u.wrapCSS).appendTo(u.parent);e.extend(u,{skin:e(".fancybox-skin",u.wrap),outer:e(".fancybox-outer",u.wrap),inner:e(".fancybox-inner",u.wrap)});e.each(["Top","Right","Bottom","Left"],function(A,z){u.skin.css("padding"+z,b(u.padding[A]))});if(v==="inline"||v==="html"){if(!u.content||!u.content.length){return k._error("content")}}else{if(!s){return k._error("href")}}if(v==="image"){k._loadImage()}else{if(v==="ajax"){k._loadAjax()}else{if(v==="iframe"){k._loadIframe()}else{k._afterLoad()}}}},_error:function(s){e.extend(k.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:s,content:k.coming.tpl.error});k._afterLoad()},_loadImage:function(){var s=k.imgPreload=new Image();s.onload=function(){this.onload=this.onerror=null;k.coming.width=this.width;k.coming.height=this.height;k._afterLoad()};s.onerror=function(){this.onload=this.onerror=null;k._error("image")};s.src=k.coming.href;if(s.complete===f||!s.complete){k.showLoading()}},_loadAjax:function(){var s=k.coming;k.showLoading();k.ajaxLoad=e.ajax(e.extend({},s.ajax,{url:s.href,error:function(t,u){if(k.coming&&u!=="abort"){k._error("ajax",t)}else{k.hideLoading()}},success:function(t,u){if(u==="success"){s.content=t;k._afterLoad()}}}))},_loadIframe:function(){var s=k.coming,t=e(s.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",i?"auto":s.iframe.scrolling).attr("src",s.href);e(s.wrap).bind("onReset",function(){try{t.hide().parent().empty()}catch(u){}});if(s.iframe.preload){k.showLoading();t.bind("load",function(){e(this).unbind().bind("load.fb",k.update).data("ready",1);k.coming.wrap.removeClass("fancybox-tmp").show();k._afterLoad()})}s.content=t.appendTo(s.inner);if(!s.iframe.preload){k._afterLoad()}},_preloadImages:function(){var x=k.group,w=k.current,s=x.length,u=w.preload?Math.min(w.preload,s-1):0,v,t;for(t=1;t<=u;t+=1){v=x[(w.index+t)%s];if(v.type==="image"&&v.href){new Image().src=v.href}}},_afterLoad:function(){var t=k.coming,w=k.current,y,v,u,x,s,z;k.hideLoading();if(!t||false===k.trigger("afterLoad",t,w)){k.coming.wrap.stop().trigger("onReset").remove();k.coming=null;return}if(w){k.trigger("beforeChange",w);w.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item").remove();if(w.wrap.css("position")==="fixed"){w.wrap.css(k._getPosition(true))}}k.unbindEvents();y=t;v=t.content;u=t.type;x=t.scrolling;e.extend(k,{wrap:y.wrap,skin:y.skin,outer:y.outer,inner:y.inner,current:y,previous:w});s=y.href;switch(u){case"inline":case"ajax":case"html":if(y.selector){v=e("<div>").html(v).find(y.selector)}else{if(h(v)){v=v.show().detach();y.wrap.bind("onReset",function(){e(this).find(".fancybox-inner").children().appendTo(y.parent).hide()})}}break;case"image":v=y.tpl.image.replace("{href}",s);break;case"swf":v='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>';z="";e.each(y.swf,function(A,B){v+='<param name="'+A+'" value="'+B+'"></param>';z+=" "+A+'="'+B+'"'});v+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+z+"></embed></object>";break}if(!(y.type==="iframe"&&y.iframe.preload)){y.inner.append(v)}k.trigger("beforeShow");k._setDimension();y.wrap.removeClass("fancybox-tmp");y.inner.css("overflow",x==="yes"?"scroll":(x==="no"?"hidden":x));y.pos=e.extend({},y.dim,k._getPosition(true));k.isOpen=false;k.coming=null;k.bindEvents();if(!k.isOpened){e(".fancybox-wrap").not(y.wrap).stop().trigger("onReset").remove()}else{if(w.prevMethod){k.transitions[w.prevMethod]()}}k.transitions[k.isOpened?y.nextMethod:y.openMethod]();k._preloadImages()},_setDimension:function(){var V=k.getViewport(),R=0,X=false,Z=false,D=k.wrap,P=k.skin,aa=k.inner,M=k.current,N=M.width,K=M.height,G=M.minWidth,z=M.minHeight,T=M.maxWidth,L=M.maxHeight,F=M.scrolling,x=M.scrollOutside,J=M.margin,y=J[1]+J[3],w=J[0]+J[2],u,t,Q,S,I,H,O,B,A,W,v,Y,s,C,E;D.add(P).add(aa).width("auto").height("auto");u=P.outerWidth(true)-P.width();t=P.outerHeight(true)-P.height();Q=y+u;S=w+t;I=r(N)?(V.w-Q)*parseFloat(N)/100:N;H=r(K)?(V.h-S)*parseFloat(K)/100:K;if(M.type==="iframe"){C=M.content;if(M.autoHeight&&C.data("ready")===1){try{if(C[0].contentWindow.document.location){aa.width(I).height(9999);E=C.contents().find("body");if(x){E.css("overflow-x","hidden")}H=E.height()}}catch(U){}}}else{if(M.autoWidth||M.autoHeight){aa.addClass("fancybox-tmp");if(M.autoWidth){I=aa.width()}if(M.autoHeight){H=aa.height()}aa.removeClass("fancybox-tmp")}}N=q(I);K=q(H);A=I/H;G=q(r(G)?q(G,"w")-Q:G);T=q(r(T)?q(T,"w")-Q:T);z=q(r(z)?q(z,"h")-S:z);L=q(r(L)?q(L,"h")-S:L);O=T;B=L;Y=V.w-y;s=V.h-w;if(M.aspectRatio){if(N>T){N=T;K=N/A}if(K>L){K=L;N=K*A}if(N<G){N=G;K=N/A}if(K<z){K=z;N=K*A}}else{N=Math.max(G,Math.min(N,T));K=Math.max(z,Math.min(K,L))}if(M.fitToView){T=Math.min(V.w-Q,T);L=Math.min(V.h-S,L);aa.width(q(N)).height(q(K));D.width(q(N+u));W=D.width();v=D.height();if(M.aspectRatio){while((W>Y||v>s)&&N>G&&K>z){if(R++>19){break}K=Math.max(z,Math.min(L,K-10));N=K*A;if(N<G){N=G;K=N/A}if(N>T){N=T;K=N/A}aa.width(q(N)).height(q(K));D.width(q(N+u));W=D.width();v=D.height()}}else{N=Math.max(G,Math.min(N,N-(W-Y)));K=Math.max(z,Math.min(K,K-(v-s)))}}if(x&&F==="auto"&&K<H&&(N+u+x)<Y){N+=x}aa.width(q(N)).height(q(K));D.width(q(N+u));W=D.width();v=D.height();X=(W>Y||v>s)&&N>G&&K>z;Z=M.aspectRatio?(N<O&&K<B&&N<I&&K<H):((N<O||K<B)&&(N<I||K<H));e.extend(M,{dim:{width:b(W),height:b(v)},origWidth:I,origHeight:H,canShrink:X,canExpand:Z,wPadding:u,hPadding:t,wrapSpace:v-P.outerHeight(true),skinSpace:P.height()-K});if(!C&&M.autoHeight&&K>z&&K<L&&!Z){aa.height("auto")}},_getPosition:function(u){var y=k.current,t=k.getViewport(),w=y.margin,v=k.wrap.width()+w[1]+w[3],s=k.wrap.height()+w[0]+w[2],x={position:"absolute",top:w[0]+t.y,left:w[3]+t.x};if(y.autoCenter&&y.fixed&&!u&&s<=t.h&&v<=t.w){x={position:"fixed",top:w[0],left:w[3]}}x.top=b(Math.max(x.top,x.top+((t.h-s)*y.topRatio)));x.left=b(Math.max(x.left,x.left+((t.w-v)*0.5)));return x},_afterZoomIn:function(){var s=k.current;if(!s){return}k.isOpen=k.isOpened=true;k.wrap.addClass("fancybox-opened").css("overflow","visible");k.reposition();if(s.closeClick||s.nextClick){k.inner.css("cursor","pointer").bind("click.fb",function(t){if(!e(t.target).is("a")&&!e(t.target).parent().is("a")){k[s.closeClick?"close":"next"]()}})}if(s.closeBtn){e(s.tpl.closeBtn).appendTo(k.skin).bind("click.fb",k.close)}if(s.arrows&&k.group.length>1){if(s.loop||s.index>0){e(s.tpl.prev).appendTo(k.outer).bind("click.fb",k.prev)}if(s.loop||s.index<k.group.length-1){e(s.tpl.next).appendTo(k.outer).bind("click.fb",k.next)}}k.trigger("afterShow");if(k.opts.autoPlay&&!k.player.isActive){k.opts.autoPlay=false;k.play()}},_afterZoomInFade:function(){var s=k.current;if(!s){return}k.isOpen=k.isOpened=true;k.wrap.addClass("fancybox-opened").css("overflow","visible");k.reposition();if(s.closeClick||s.nextClick){k.inner.css("cursor","pointer").bind("click.fb",function(t){if(!e(t.target).is("a")&&!e(t.target).parent().is("a")){k[s.closeClick?"close":"next"]()}})}if(s.closeBtn){e(s.tpl.closeBtn).appendTo(k.skin).bind("click.fb",k.close)}if(s.arrows&&k.group.length>1){if(s.loop||s.index>0){e(s.tpl.prev).appendTo(k.outer).bind("click.fb",k.prev)}if(s.loop||s.index<k.group.length-1){e(s.tpl.next).appendTo(k.outer).bind("click.fb",k.next)}}k.trigger("afterShow");if(!s.loop&&s.index===s.group.length-1){k.play(false)}else{if(k.opts.autoPlay&&!k.player.isActive){k.opts.autoPlay=false;k.play()}}},_afterZoomOut:function(){var s=k.current;k.wrap.trigger("onReset").remove();e.extend(k,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});k.trigger("afterClose",s)}});k.transitions={getOrigPosition:function(){var v=k.current,t=v.element,y=e(v.orig),x={},s=50,z=50,w=v.hPadding,A=v.wPadding,u;if(!y.length&&v.isDom&&t.is(":visible")){y=t.find("img:first");if(!y.length){y=t}}if(y.length){x=y.offset();if(y.is("img")){s=y.outerWidth();z=y.outerHeight()}}else{u=k.getViewport();x.top=u.y+(u.h-z)*0.5;x.left=u.x+(u.w-s)*0.5}x={top:b(x.top-w*0.5),left:b(x.left-A*0.5),width:b(s+A),height:b(z+w)};return x},step:function(t,u){var w,y,z,s=u.prop,v=k.current,x=v.wrapSpace,A=v.skinSpace;if(s==="width"||s==="height"){w=u.end===u.start?1:(t-u.start)/(u.end-u.start);if(k.isClosing){w=1-w}y=s==="width"?v.wPadding:v.hPadding;z=t-y;k.skin[s](q(s==="width"?z:z-(x*w)));k.inner[s](q(s==="width"?z:z-(x*w)-(A*w)))}},zoomIn:function(){var w=k.current,t=w.pos,u=w.openEffect,v=u==="elastic",s=e.extend({opacity:1},t);delete s.position;if(v){t=this.getOrigPosition();if(w.openOpacity){t.opacity=0.1}}else{if(u==="fade"){t.opacity=0.1}}k.wrap.css(t).animate(s,{duration:u==="none"?0:w.openSpeed,easing:w.openEasing,step:v?this.step:null,complete:k._afterZoomIn})},zoomOut:function(){var v=k.current,t=v.closeEffect,u=t==="elastic",s={opacity:0.1};if(u){s=this.getOrigPosition();if(v.closeOpacity){s.opacity=0.1}}k.wrap.animate(s,{duration:t==="none"?0:v.closeSpeed,easing:v.closeEasing,step:u?this.step:null,complete:k._afterZoomOut})},changeIn:function(){var x=k.current,u=x.nextEffect,t=x.pos,s={opacity:1},w=k.direction,y=200,v;t.opacity=0.1;if(u==="elastic"){v=w==="down"||w==="up"?"top":"left";if(w==="up"||w==="left"){t[v]=b(parseInt(t[v],10)-y);s[v]="+="+y+"px"}else{t[v]=b(parseInt(t[v],10)+y);s[v]="-="+y+"px"}}if(u==="none"){k._afterZoomInFade()}else{k.wrap.css(t).animate(s,{duration:u==="none"?0:x.nextSpeed,easing:x.nextEasing,complete:function(){setTimeout(k._afterZoomIn,10)}})}},changeOut:function(){var u=k.previous,t=u.prevEffect,s={opacity:0.1},v=k.direction,w=200;if(t==="elastic"){s[v==="down"||v==="up"?"top":"left"]=(v==="down"||v==="right"?"-":"+")+"="+w+"px"}u.wrap.animate(s,{duration:t==="none"?0:u.prevSpeed,easing:u.prevEasing,complete:function(){e(this).trigger("onReset").remove()}})}};k.helpers.overlay={overlay:null,update:function(){var u,s,t;this.overlay.width("100%").height("100%");if(e.browser.msie||i){s=Math.max(m.documentElement.scrollWidth,m.body.scrollWidth);t=Math.max(m.documentElement.offsetWidth,m.body.offsetWidth);u=s<t?c.width():s}else{u=l.width()}this.overlay.width(u).height(l.height())},beforeShow:function(t){var s;if(this.overlay){return}t=e.extend(true,{},k.defaults.helpers.overlay,t);s=this.overlay=e('<div id="fancybox-overlay"></div>').css(t.css).appendTo("body").bind("mousewheel",function(u){if(!k.wrap||(k.wrap.css("position")==="fixed"||k.wrap.is(":animated"))){u.preventDefault()}});if(("ontouchstart" in g)||g.DocumentTouch&&m instanceof DocumentTouch){m.body.addEventListener("touchstart",k.startTouch,false)}if(t.closeClick){s.bind("click.fb",k.close)}if(k.defaults.fixed&&!i){s.addClass("overlay-fixed")}else{this.update();this.onUpdate=function(){this.update()}}s.fadeTo(t.speedIn,t.opacity)},afterClose:function(s){if(this.overlay){this.overlay.fadeOut(s.speedOut||0,function(){e(this).remove()})}this.overlay=null}};k.helpers.title={beforeShow:function(t){var w=k.current.title,s=t.type,v,u;if(!j(w)||e.trim(w)===""){return}w="";v=e('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+w+"</div>");switch(s){case"inside":u=k.skin;break;case"outside":u=k.wrap;break;case"over":u=k.inner;break;default:u=k.skin;v.appendTo("body").width(v.width());k.current.margin[2]+=Math.abs(parseInt(v.css("margin-bottom"),10));break}if(t.position==="top"){v.prependTo(u)}else{v.appendTo(u)}}};e.fn.fancybox=function(u){var t,v=e(this),s=this.selector||"",w=function(A){var z=this,x=t,y,B;if(!(A.ctrlKey||A.altKey||A.shiftKey||A.metaKey)&&!e(z).is(".fancybox-wrap")){y=u.groupAttr||"data-fancybox-group";B=e(z).attr(y);if(!B){y="rel";B=z[y]}if(B&&B!==""&&B!=="nofollow"){z=s.length?e(s):v;z=z.filter("["+y+'="'+B+'"]');x=z.index(this)}u.index=x;if(k.open(z,u)!==false){A.preventDefault()}}};u=u||{};t=u.index||0;if(!s||u.live===false){v.unbind("click.fb-start").bind("click.fb-start",w)}else{l.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",w)}return this};if(!e.scrollbarWidth){e.scrollbarWidth=function(){var t,u,s;t=e('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body");u=t.children();s=u.innerWidth()-u.height(99).innerWidth();t.remove();return s}}l.ready(function(){e.extend(k.defaults,{scrollOutside:e.scrollbarWidth(),fixed:e.support.fixedPosition||!((e.browser.msie&&e.browser.version<=6)||i),parent:e("body")})})}(window,document,jQuery));