(function(a){a.fn.mscroller=function(u){var b={direction:"left",speed:25,behavior:"scroll",delay:0,mouseover:false,mouseout:false,onclick:false};if(u){a.extend(b,u)}var t=this;var n=a(this).find("ul.scroller").html();var l={};var p=0;a(t).find("ul.scroller li").each(function(){p+=a(this).outerWidth(true)});var C=a(t).width();var s=1;if(p<C){s=Math.ceil(C/p)}var f=-1;var d=-1;var y=-1;var v=-1;if(b.direction=="right"){a(t).find("ul.scroller").css({left:-1*p});y=1;f=1;v=1}var g=0;this.circle_horz=function(){if(g==0){g=p}a(t).find("ul.scroller").css({width:g});var h=a(t).find("ul.scroller").css("left");if(h=="auto"){h=0}if(Math.abs(parseInt(h))>=g-C||parseInt(h)==0){if(g<=s*p){g+=p;a(t).find("ul.scroller").css({width:g}).append(n)}else{a(t).find("ul.scroller").css({left:-1*s*p+(b.direction=="right"?0:C)})}}else{a(t).find("ul.scroller").css({left:parseInt(h)+f})}};this.alternate_horz=function(){a(t).find("ul.scroller").css({width:p});var h=a(t).find("ul.scroller").css("left");if(h=="auto"){h=0}if(Math.abs(parseInt(h))==p||parseInt(h)==C){d=-1*d;a(t).find("ul.scroller").css({left:parseInt(h)+d})}else{a(t).find("ul.scroller").css({left:parseInt(h)+d})}};var z=0;this.slide_horz=function(){a(t).find("ul.scroller").css({width:p});var h=a(t).find("ul.scroller").css("left");if(h=="auto"){h=0}if(Math.abs(parseInt(h))==p-C||parseInt(h)==0){if(z){return true}a(t).find("ul.scroller").css({left:parseInt(h)+y});z++}else{a(t).find("ul.scroller").css({left:parseInt(h)+y})}};this.scroll_horz=function(){a(t).find("ul.scroller").css({width:p});var w=a(t).find("ul.scroller").css("left");if(w=="auto"){w=0}if(Math.abs(parseInt(w))==p||parseInt(w)==C){if(t.delay(b.delay)){var h=parseInt(w)==C?-1*p+1:C-1;a(t).find("ul.scroller").css({left:h})}}else{a(t).find("ul.scroller").css({left:parseInt(w)+v})}};var o=0;a(t).find("ul.scroller li").each(function(){o+=a(this).outerHeight(true)});var m=a(t).height();var r=1;if(o<m){r=Math.ceil(m/o)}var i=-1;var e=-1;var A=-1;var x=-1;if(b.direction=="down"){a(t).find("ul.scroller").css({top:-1*o});A=1;i=1;x=1}var j=0;this.circle_vert=function(){if(j==0){j=o}a(t).find("ul.scroller").css({height:j});var h=a(t).find("ul.scroller").css("top");if(h=="auto"){h=0}if(j-Math.abs(parseInt(h))<=m||parseInt(h)==0){if(j<=r*o){j+=o;a(t).find("ul.scroller").css({height:j}).append(n)}else{a(t).find("ul.scroller").css({top:-1*r*o+(b.direction=="down"?0:m)})}}else{a(t).find("ul.scroller").css({top:parseInt(h)+i})}};this.alternate_vert=function(){a(t).find("ul.scroller").css({height:o});var h=a(t).find("ul.scroller").css("top");if(h=="auto"){h=0}if(Math.abs(parseInt(h))==o||parseInt(h)==m){e=-1*e;a(t).find("ul.scroller").css({top:parseInt(h)+e})}else{a(t).find("ul.scroller").css({top:parseInt(h)+e})}};this.scroll_vert=function(){a(t).find("ul.scroller").css({height:o});var w=a(t).find("ul.scroller").css("top");if(w=="auto"){w=0}if(Math.abs(parseInt(w))==o||parseInt(w)==m){if(t.delay(b.delay)){var h=parseInt(w)==m?-1*o+1:m-1;a(t).find("ul.scroller").css({top:h})}}else{a(t).find("ul.scroller").css({top:parseInt(w)+x})}};var B=0;this.slide_vert=function(){a(t).find("ul.scroller").css({height:o});var h=a(t).find("ul.scroller").css("top");if(h=="auto"){h=0}if(Math.abs(parseInt(h))==o-m||parseInt(h)==0){if(B){return false}a(t).find("ul.scroller").css({top:parseInt(h)+A});B++}else{a(t).find("ul.scroller").css({top:parseInt(h)+A})}};this.stop=function(){clearInterval(q)};this.start=function(){q=setInterval(c,b.speed)};var k=0;this.delay=function(w){var h=b.speed>0?Math.ceil(w/b.speed):0;if(k++<=h){return false}k=0;return true};function c(){if(b.behavior=="circle"){switch(b.direction){case"up":t.circle_vert();break;case"down":t.circle_vert();break;case"right":t.circle_horz();break;default:t.circle_horz();break}}else{if(b.behavior=="alternate"){switch(b.direction){case"up":case"down":t.alternate_vert();break;case"right":default:t.alternate_horz();break}}else{if(b.behavior=="slide"){switch(b.direction){case"up":case"down":t.slide_vert();break;case"right":default:t.slide_horz();break}}else{switch(b.direction){case"up":case"down":t.scroll_vert();break;case"right":default:t.scroll_horz();break}}}}}var q=setInterval(c,b.speed);if(typeof b.mouseover=="function"){a(t).mouseover(function(){b.mouseover(t)})}if(typeof b.mouseout=="function"){a(t).mouseout(function(){b.mouseout(t)})}if(typeof b.onclick=="function"){a(t).onclick(function(){b.onclick(t)})}}})(jQuery);