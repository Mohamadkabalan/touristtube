(function(a){a.fn.thslide=function(j){var k=a.extend({navPreviousWrapper:".thslide_nav_previous a",navNextWrapper:".thslide_nav_next a",listWrapper:".thslide_list ul",itemOffset:100,itemVisible:5,slideSpeedSlow:600,slideSpeedFast:200,infiniteScroll:0,scrollOver:0,debug:0,start:0},j||{});k.navPreviousWrapper=a(this).find(k.navPreviousWrapper);k.navNextWrapper=a(this).find(k.navNextWrapper);k.listWrapper=a(this).find(k.listWrapper);k.totalItem=a(k.listWrapper).find("li").length;k.itemOffsetMax;k.listMarginLeft;k.slideSpeed;k.easing;k.locked=false;k.scrollOn=false;k.scrollTimer=0;k.navTimer;k.start=(k.start>k.totalItem/2)?1:k.start-2;if(k.start<0){k.start=0}k.listWrapper.css("marginLeft",-parseInt(k.itemOffset*k.start));if(k.totalItem>k.itemVisible){i(k);k.itemOffsetMax=parseInt(a(k.listWrapper).find("li").length)*k.itemOffset-(k.itemVisible*k.itemOffset);k.itemOffsetMax=-parseInt(k.itemOffsetMax);a(k.navPreviousWrapper).click(function(){return false});a(k.navNextWrapper).click(function(){return false});a(k.navPreviousWrapper).mousedown(function(){window.clearTimeout(k.navTimer);k.scrollOn=true;k.slideSpeed=k.slideSpeedFast;k.easing="swing";e(k)});a(k.navNextWrapper).mousedown(function(){window.clearTimeout(k.navTimer);k.scrollOn=true;k.slideSpeed=k.slideSpeedFast;k.easing="swing";d(k)});a(k.navPreviousWrapper).mouseup(function(){k.scrollOn=false});a(k.navNextWrapper).mouseup(function(){k.scrollOn=false});if(k.scrollOver==1){a(k.navPreviousWrapper).mouseover(function(){if(!k.scrollOn){k.scrollOn=true;k.slideSpeed=k.slideSpeedSlow;k.easing="linear";var l=function(){e(k)};k.navTimer=window.setTimeout(l,k.scrollTimer)}});a(k.navNextWrapper).mouseover(function(){if(!k.scrollOn){k.scrollOn=true;k.slideSpeed=k.slideSpeedSlow;k.easing="linear";var l=function(){d(k)};k.navTimer=window.setTimeout(l,k.scrollTimer)}});a(k.navPreviousWrapper).mouseout(function(){k.scrollOn=false});a(k.navNextWrapper).mouseout(function(){k.scrollOn=false})}}return this};var e=function(j){if(!j.locked&&j.scrollOn&&((parseInt(j.listMarginLeft)+parseInt(j.itemOffset)<=0)||j.infiniteScroll==1)){j.locked=true;if(j.infiniteScroll==1){g(j,function(){f(j)})}else{f(j)}}};var f=function(k){var j=parseInt(k.listMarginLeft)+parseInt(k.itemOffset);if(k.debug==1){console.log("offsetUpdate: "+j)}a(k.listWrapper).animate({marginLeft:j},k.slideSpeed,k.easing,function(){if(k.infiniteScroll==0){i(k)}k.locked=false;if(k.scrollOn){k.easing="linear";e(k)}})};var d=function(k){if(!k.locked&&k.scrollOn&&(((parseInt(k.listMarginLeft)-parseInt(k.itemOffset))>=k.itemOffsetMax)||k.infiniteScroll==1)){k.locked=true;var j=parseInt(k.listMarginLeft)-parseInt(k.itemOffset);if(k.debug==1){console.log("offsetUpdate: "+j)}a(k.listWrapper).animate({marginLeft:j},k.slideSpeed,k.easing,function(){if(k.infiniteScroll==0){i(k)}else{h(k,null)}k.locked=false;if(k.scrollOn){k.easing="linear";d(k)}})}};var b=function(l){for(var j=0;j<l.totalItem;j++){var k=parseInt(a(l.listWrapper).find("li").length-1)-parseInt(j);a(l.listWrapper).find("li:eq("+k+")").clone().insertBefore(a(l.listWrapper).find("li:first-child")).addClass("thslide_copy")}c(l)};var g=function(l,j){var k=a(l.listWrapper).find("li:last-child");a(l.listWrapper).find("li:first-child").before(k);a(l.listWrapper).css("marginLeft",-parseInt(l.itemOffset));i(l);if(typeof j=="function"){return j()}};var h=function(l,j){var k=a(l.listWrapper).find("li:first-child");a(l.listWrapper).find("li:last-child").after(k);a(l.listWrapper).css("marginLeft",0);i(l);if(typeof j=="function"){return j()}};var i=function(j){j.listMarginLeft=a(j.listWrapper).css("marginLeft").split("px")[0]};var c=function(j){a(j.listWrapper).css("marginLeft",-parseInt(j.itemOffset));i(j)}})(jQuery);