(function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var h=this.prototype;a=!0;var g=new this;a=!1;for(var e in c){g[e]="function"==typeof c[e]&&"function"==typeof h[e]&&b.test(c[e])?function(i,j){return function(){var k=this._super;this._super=h[i];var f=j.apply(this,arguments);this._super=k;return f}}(e,c[e]):c[e]}d.prototype=g;d.prototype.constructor=d;d.extend=arguments.callee;return d}})();(function(a,d){function b(c){return i?i[e[c]]||c:c}var e={"Add files":0,"Start upload":1,"Remove all":2,Close:3,"Select Files":4,Preview:5,"Remove file":6,Bytes:7,KB:8,MB:9,GB:10,"Upload aborted":11,"Upload all files":12,"Select Files or Drag&Drop Files":13,"File uploaded 100%":14,"Max files number reached":15,"Extension not allowed":16,"File size now allowed":17},j={it_IT:"Aggiungi file;Inizia caricamento;Rimuvi tutti;Chiudi;Seleziona;Anteprima;Rimuovi file;Bytes;KB;MB;GB;Interroto;Carica tutto;Seleziona o Trascina qui i file;File caricato 100%;Numero massimo di file superato;Estensione file non permessa;Dimensione file non permessa".split(";"),sq_AL:"Shto file;Fillo karikimin;Hiqi te gjith\u00eb;Mbyll;Zgjith filet;Miniatur\u00eb;Hiqe file-in;Bytes;KB;MB;GB;Karikimi u nd\u00ebrpre;Kariko t\u00eb gjith\u00eb;Zgjith ose Zvarrit dokumentat k\u00ebtu;File u karikua 100%".split(";"),nl_NL:"Bestanden toevoegen;Start uploaden;Verwijder alles;Sluiten;Selecteer bestanden;Voorbeeld;Verwijder bestand;Bytes;KB;MB;GB;Upload afgebroken;Upload alle bestanden;Selecteer bestanden of  Drag&Drop bestanden;Bestand ge\u00fcpload 100%".split(";"),de_DE:"Dateien hinzuf\u00fcgen;Hochladen;Alle entfernen;Schliessen;Dateien w\u00e4hlen;Vorschau;Datei entfernen;Bytes;KB;MB;GB;Upload abgebrochen;Alle hochgeladen;W\u00e4hlen Sie Dateien oder f\u00fcgen Sie sie mit Drag & Drop hinzu.;Upload 100%".split(";"),fr_FR:"Ajouter;Envoyer;Tout supprimer;Fermer;Parcourir;Visualiser;Supprimer fichier;Bytes;Ko;Mo;Go;Envoi annul\u00e9;Tout envoyer;Parcourir ou Glisser/D\u00e9poser;Fichier envoy\u00e9 100%".split(";")},i={},h=Class.extend({init:function(f,g,p,l,k){this.file=f;this.status=0;this.name=g;this.size=p;this.info=this.xhr=null;this.ext=l;this.pos=k.files.length;this.AU=k;this.settings=k.settings;this.exifData=null;this.currentByte=0;this.afterInit()},afterInit:function(){this.renderHtml();this.bindEvents();this.doPreview();this.settings.hideUploadForm&&null!==this.AU.form&&this.AU.form!==d&&this.uploadButton.hide();var c=this.AU;if(c.hasHtml4){var c=c.getParams(this.name,0,!1),f=a('<form action="'+this.settings.url+'" method="post" target="ax-main-frame" encType="multipart/form-data" />').hide().appendTo(this.li);f.append(this.file);f.append('<input type="hidden" value="'+this.name+'" name="ax-file-name" />');for(var k=0;k<c.length;k++){var g=c[k].split("=");f.append('<input type="hidden" value="'+g[1]+'" name="'+g[0]+'" />')}this.xhr=f}},renderHtml:function(){var c=this.settings,f=this.AU.formatSize(this.size);this.li=a("<li />").appendTo(this.AU.fileList).attr("title",name);c.bootstrap&&(this.li=a("<a />").appendTo(this.li));this.prevContainer=a('<a class="ax-prev-container" />').appendTo(this.li);this.details=a('<div class="ax-details" />').appendTo(this.li);this.progressInfo=a('<div class="ax-progress" />').appendTo(this.li);this.buttons=a('<div class="ax-toolbar" />').appendTo(this.li);this.prevImage=a('<img class="ax-preview" src="" alt="'+b("Preview")+'" />').appendTo(this.prevContainer);this.nameContainer=a('<div class="ax-file-name">'+this.name+"</div>").appendTo(this.details);this.sizeContainer=a('<div class="ax-file-size">'+f+"</div>").appendTo(this.details);this.progressBar=a('<div class="ax-progress-bar" />').appendTo(this.progressInfo);this.progressPer=a('<div class="ax-progress-info">0%</div>').appendTo(this.progressInfo);this.uploadButton=a('<a title="'+b("Start upload")+'" class="ax-upload ax-button" />').appendTo(this.buttons).append('<span class="ax-upload-icon ax-icon"></span>');this.removeButton=a('<a title="Remove file" class="ax-remove cancel ax-button" />').appendTo(this.buttons).append('<span class="ax-clear-icon ax-icon"></span>');c.bootstrap&&(this.li.addClass("media thumbnail label-info"),this.prevContainer.addClass("pull-left"),this.prevImage.addClass("img-rounded media-object"),this.details.addClass("label label-info").css({"border-bottom-left-radius":0}),this.progressInfo.addClass("progress progress-striped active").css({"margin-bottom":0}),this.progressBar.addClass("bar"),this.buttons.css({"border-top-left-radius":0,"border-top-right-radius":0}),this.uploadButton.addClass("btn btn-success btn-small").find("span").addClass("icon-play"),this.removeButton.addClass("btn btn-danger btn-small").find("span").addClass("icon-minus-sign"))},bindEvents:function(){this.uploadButton.bind("click",this,function(c){c.data.AU.settings.enable&&(2!=c.data.status?c.data.startUpload():c.data.stopUpload())});this.settings.editFilename&&this.nameContainer.bind("dblclick",this,function(c){if(c.data.AU.settings.enable){c.stopPropagation();var f=c.data.ext;c=c.data.name.replace("."+f,"");a(this).html('<input type="text" value="'+c+'" />.'+f)}}).bind("blur focusout",this,function(c){c.stopPropagation();var f=a(this).children("input").val();"undefined"!=typeof f&&(f=f.replace(/[|&;$%@"<>()+,]/g,"")+"."+c.data.ext,a(this).html(f),c.data.name=f,c.data.AU.hasAjaxUpload||c.data.xhr.children('input[name="ax-file-name"]').val(f))})},doPreview:function(){if(this.AU.settings.previews&&this.AU.hasAjaxUpload&&this.file.type.match(/image.*/)&&("jpg"==this.ext||"gif"==this.ext||"png"==this.ext)&&"undefined"!==typeof FileReader){var c=this.name,f=this;this.prevContainer.css("background","none");var k=this.prevImage,g=new FileReader;g.onload=function(l){k.css("cursor","pointer").attr("src",l.target.result).click(function(){var p=new Image;p.onload=function(){var q=Math.min(a(window).width()/this.width,(a(window).height()-100)/this.height),t=1>q?this.width*q:this.width,q=1>q?this.height*q:this.height,r=a(window).scrollTop()-20+(a(window).height()-q)/2,s=(a(window).width()-t)/2,r=a("#ax-box").css({top:r,height:q,width:t,left:s});r.children("img").attr({width:t,height:q,src:l.target.result});a("#ax-box-fn").find("span").html(c+" ("+f.AU.formatSize(f.size)+")");r.fadeIn(500);a("#ax-box-shadow").css("height",a(document).height()).show()};p.src=l.target.result;a("#ax-box-shadow").css("z-index",10000);a("#ax-box").css("z-index",10001)})};g.readAsDataURL(this.file)}else{this.prevContainer.addClass("ax-filetype-"+this.ext).children("img:first").remove()}},askUser:function(c,f){this.askDiv&&this.askDiv.remove();this.askDiv=a('<div class="ax-ask-div"></div>').appendTo(this.li);var k=a('<div class="ax-ask-inner"><div class="ax-ask-quest">'+f+"</div> </div>").appendTo(this.askDiv),g=a('<a title="Yes" class="ax-button ax-ask-yes"><span class="ax-upload-icon ax-icon"></span> <span>Yes</span></a>').appendTo(k),k=a('<a title="No" class="ax-button ax-ask-no"><span class="ax-clear-icon ax-icon"></span> <span>No</span></a>').appendTo(k);this.settings.bootstrap&&(this.askDiv.addClass("alert"),g.addClass("btn btn-success btn-small").find(".ax-icon").addClass("icon-ok"),k.addClass("btn btn-danger btn-small").find(".ax-icon").addClass("icon-remove"));g.on("click",this,function(l){c.call(l.data);l.data.askDiv.remove();l.data.askDiv=null});k.on("click",this,function(l){l.data.askDiv.remove();l.data.askDiv=null})},checkFileExists:function(c){c.call(this)},startUpload:function(){var c=this.settings.beforeUpload.call(this,this.name,this.file);c?(this.status=3,this.checkFileExists(function(){this.progressBar.css("width","0%");this.progressPer.html("0%");this.uploadButton.addClass("ax-abort");this.status=2;this.AU.hasAjaxUpload?this.uploadAjax():this.AU.hasFlash?this.AU.uploading||(this.AU.uploading=!0,this.AU.flashObj.uploadFile(this.pos)):this.uploadStandard()})):(this.status=-1,this.onError("File validation failed"));return c},uploadAjax:function(){var p=this.settings,q=this.file,t=this.currentByte,s=this.name,r=this.size,w=p.chunkSize,u=w+t,v=0>=r-u,z=q,y=0!=w?u/w:1;this.xhr=new XMLHttpRequest;0==w?(z=q,v=!0):q.slice?z=q.slice(t,u):q.mozSlice?z=q.mozSlice(t,u):q.webkitSlice?z=q.webkitSlice(t,u):(z=q,v=!0);var A=this;this.xhr.upload.addEventListener("abort",function(c){A.AU.slots--},!1);this.xhr.upload.addEventListener("progress",function(c){c.lengthComputable&&(c=Math.round(100*(c.loaded+y*w-w)/r),A.onProgress(c))},!1);this.xhr.upload.addEventListener("error",function(c){A.onError(this.responseText)},!1);this.xhr.onreadystatechange=function(){if(4==this.readyState&&200==this.status){try{var c=JSON.parse(this.responseText);0==t&&(A.name=c.name,A.nameContainer.html(c.name));if(-1==parseInt(c.status)){throw c.info}if(v){A.onFinishUpload(c.name,c.size,c.status,c.info)}else{A.currentByte=u,A.uploadAjax()}}catch(f){A.onError(f)}}};q=this.AU.getParams(s,r,!this.AU.useFormData);q.push("ax-start-byte="+t);q.push("ax-last-chunk="+v);if(this.AU.useFormData){s=new FormData;s.append("ax_file_input",z);for(z=0;z<q.length;z++){var x=q[z].split("=");s.append(x[0],x[1])}this.xhr.open("POST",p.url,p.async);this.xhr.send(s)}else{s=-1==p.url.indexOf("?")?"?":"&",this.xhr.open("POST",p.url+s+q.join("&"),p.async),this.xhr.setRequestHeader("Cache-Control","no-cache"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xhr.setRequestHeader("Content-Type","application/octet-stream"),this.xhr.send(z)}},uploadStandard:function(){this.progressBar.css("width","50%");this.progressPer.html("50%");a("#ax-main-frame").unbind("load").bind("load",this,function(c){var f=null;this.contentDocument?f=this.contentDocument:this.contentWindow&&(f=this.contentWindow.document);try{var k=a.parseJSON(f.body.innerHTML);c.data.onProgress(100);c.data.onFinishUpload(k.name,k.size,k.status,k.info)}catch(g){c.data.onError(f.body.innerHTML)}c.data.AU.upload_all&&c.data.AU.files[c.data.pos+1]!==d&&c.data.AU.files[c.data.pos+1].startUpload()});this.xhr.submit()},stopUpload:function(){if(this.AU.hasAjaxUpload){null!==this.xhr&&(this.xhr.abort(),this.xhr=null)}else{if(this.AU.hasFlash){this.AU.flashObj.stopUpload(this.pos)}else{var c=document.getElementById("ax-main-frame");try{c.contentWindow.document.execCommand("Stop")}catch(f){c.contentWindow.stop()}}}this.uploadButton.removeClass("ax-abort");this.status=this.currentByte=0;this.progressBar.css("width",0);this.progressPer.html(b("Upload aborted"))},onError:function(c){this.AU.slots--;this.currentByte=0;this.status=-1;this.info=c;this.progressPer.html(c);this.progressBar.css("width","0%");this.uploadButton.removeClass("ax-abort");this.settings.error.call(this,c,this.name);this.settings.removeOnError&&this.AU.removeFile(this.pos)},onFinishUpload:function(c,f,k,g){this.AU.slots--;this.name=c;this.status=parseInt(k);this.info=g;this.AU.hasAjaxUpload||this.AU.hasFlash||(f=this.AU.formatSize(this.size),this.sizeContainer.html(f));this.currentByte=0;this.nameContainer.html(c);this.li.attr("title",c);this.onProgress(100);this.uploadButton.removeClass("ax-abort");this.progressBar.width(0);this.progressPer.html(b("File uploaded 100%"));this.settings.success.call(this,c);c=!0;for(f=0;f<this.AU.files.length;f++){1!=this.AU.files[f].status&&-1!=this.AU.files[f].status&&(c=!1)}this.AU.upload_all&&this.AU.uploadAll();c&&this.AU.finish();this.settings.removeOnSuccess&&this.AU.removeFile(this.pos)},onProgress:function(c){this.progressBar.css("width",c+"%");this.progressPer.html(c+"%")}}),n=function(c,f){this.useFormData=this.hasAjaxUpload=this.hasFlash=!1;this.hasHtml4=!0;this.settings=this.preCheckSettings(f);this._init(c);this.checkUploadSupport();this.container=c;this.files=[];this.slots=0;this.flashObj=this.form_submit_event=this.form=null;this.uploading=this.upload_all=!1;this.renderHtml();f.onInit.call(this);this.bindEvents()};n.prototype={preCheckSettings:function(c){c.allowDelete=c.allowDelete||!1;c.checkFileExists=c.checkFileExists||!1;"auto"==c.language&&(c.language=(window.navigator.userLanguage||window.navigator.language).replace("-","_"));c.allowExt=a.map(c.allowExt,function(f,g){return f.toLowerCase()});return c},_init:function(c){var f=this.settings;i=j[f.language];c.addClass("ax-uploader").data("author","http://www.albanx.com/");0==a("#ax-main-frame").length&&a('<iframe name="ax-main-frame" id="ax-main-frame" />').hide().appendTo("body");0==a("#ax-box").length&&a('<div id="ax-box"><div id="ax-box-fn"><span></span></div><img /><a id="ax-box-close" title="'+b("Close")+'"></a></div>').appendTo("body");0==a("#ax-box-shadow").length&&a('<div id="ax-box-shadow"/>').appendTo("body");a("#ax-box-close, #ax-box-shadow").click(function(g){g.preventDefault();a("#ax-box").fadeOut(500);a("#ax-box-shadow").hide()});f.bootstrap&&a("#ax-box-close").addClass("btn btn-danger").html('<span class="ax-clear-icon ax-icon icon-remove-sign"></span>');for(f="AX_"+Math.floor(100001*Math.random());0<a("#"+f).length;){f="AX_"+Math.floor(100001*Math.random())}c.attr("id",c.attr("id")?c.attr("id"):f)},checkUploadSupport:function(){var c=document.createElement("input");c.type="file";this.hasAjaxUpload="multiple" in c&&"undefined"!=typeof File&&"undefined"!=typeof(new XMLHttpRequest).upload;this.hasFlash=!1;/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&/Version\/5\./.test(navigator.userAgent)&&/Win/.test(navigator.platform)&&(this.hasAjaxUpload=!1);this.hasHtml4=!this.hasFlash&&!this.hasAjaxUpload;this.useFormData=window.FormData!==d;c=navigator.userAgent.match(/Firefox\/(\d+)?/);null!==c&&6>=(null===c||c[1]===d||isNaN(c[1])?7:parseFloat(c[1]))&&(this.useFormData=!1);null!==navigator.userAgent.match(/Opera\/(\d+)?/)&&(c=navigator.userAgent.match(/Version\/(\d+)?/),12.1>(c[1]===d||isNaN(c[1])?0:parseFloat(c[1]))&&(this.useFormData=!1))},renderHtml:function(){var c=this.settings;this.mainWrapper=a('<div class="ax-main-container" />').append('<h5 class="ax-main-title">'+b("Select Files")+"</h5>").appendTo(this.container);this.max_size=c.maxFileSize;var f=c.maxFileSize.slice(-1);if(isNaN(f)){switch(this.max_size=this.max_size.replace(f,""),f){case"P":this.max_size*=1024;case"T":this.max_size*=1024;case"G":this.max_size*=1024;case"M":this.max_size*=1024;case"K":this.max_size*=1024}}var l="ax-browse-c ax-button",f="ax-upload-all ax-button",k="ax-clear ax-button",q="ax-plus-icon ax-icon",r="ax-upload-icon ax-icon",s="ax-clear-icon ax-icon";c.bootstrap&&(l+=" btn btn-primary",f+=" btn btn-success",k+=" btn btn-danger",q+=" icon-plus-sign",r+=" icon-play",s+=" icon-remove-sign");this.browse_c=a('<a class="'+l+'" title="'+b("Add files")+'" />').append('<span class="'+q+'"></span> <span class="ax-text">'+b("Select files from your device")+"</span>").appendTo(this.mainWrapper);this.browseFiles=a('<input type="file" class="ax-browse " name="ax_file_input" />').attr("multiple",this.hasAjaxUpload).appendTo(this.browse_c);c.uploadDir&&this.browseFiles.attr({directory:"directory",webkitdirectory:"webkitdirectory",mozdirectory:"mozdirectory"});this.hasFlash&&(this.browse_c.children(".ax-browse").remove(),l=this.container.attr("id")+"_flash",q='\x3c!--[if !IE]> --\x3e<object style="position:absolute;width:150px;height:100px;left:0px;top:0px;z-index:1000;" id="'+l+'" type="application/x-shockwave-flash" data="'+c.flash+'" width="150" height="100">\x3c!-- <![endif]--\x3e\x3c!--[if IE]><object style="position:absolute;width:150px;height:100px;left:0px;top:0px;z-index:1000;" id="'+l+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="150" height="100"><param name="movie" value="'+c.flash+'" />\x3c!--\x3e\x3c!--dgx--\x3e<param name="flashvars" value="instance_id='+this.container.attr("id")+'"><param name="allowScriptAccess" value="always" /><param value="transparent" name="wmode"></object>\x3c!-- <![endif]--\x3e',this.browse_c.append('<div style="position:absolute;overflow:hidden;width:150px;height:100px;left:0px;top:0px;z-index:0;">'+q+"</div>"),this.flashObj=document.getElementById(l));this.uploadFiles=a('<a class="'+f+'" title="'+b("Upload all files")+'" />').append('<span class="'+r+'"></span> <span class="ax-text">'+b("Start upload")+"</span>").appendTo(this.mainWrapper);this.removeFiles=a('<a class="'+k+'" title="'+b("Remove all")+'" />').append('<span class="'+s+'"></span> <span class="ax-text">'+b("Remove all")+"</span>").appendTo(this.mainWrapper);this.fileList=a('<ul class="ax-file-list" />').appendTo(this.mainWrapper);c.bootstrap&&this.fileList.addClass("media-list")},bindEvents:function(){var c=this.settings;this.browseFiles.bind("change",this,function(k){k=k.data;k.settings.enable&&!k.hasFlash&&(k.addFiles(k.hasAjaxUpload?this.files:Array(this)),k.hasAjaxUpload?this.value="":a(this).clone(!0).val("").appendTo(k.browse_c))});this.uploadFiles.bind("click",this,function(k){k.data.settings.enable&&k.data.uploadAll();return !1});this.removeFiles.bind("click",this,function(k){k.data.settings.enable&&k.data.clearQueue();return !1});0<a(c.form).length?this.form=a(c.form):"parent"==c.form&&(this.form=this.container.parents("form:first"));if(null!==this.form&&this.form!==d){c.hideUploadForm&&this.uploadFiles.hide();var f=this.form.data("events");null!==f&&f!==d&&null!==f.submit&&f.submit!==d&&(this.form_submit_event=f.submit);this.form.unbind("submit");this.form.bind("submit.ax",this,function(k){if(0<k.data.files.length){return k.data.uploadAll(),!1}})}if(this.hasAjaxUpload){var f="self"==c.dropArea?this.container[0]:a(c.dropArea)[0],g=this;"self"==c.dropArea&&this.mainWrapper.find(".ax-main-title").html(b("Select Files or Drag&Drop Files"));f.addEventListener("dragenter",function(k){k.stopPropagation();k.preventDefault()},!1);f.addEventListener("dragover",function(k){k.stopPropagation();k.preventDefault();g.settings.enable&&(c.dropClass?a(this).addClass(c.dropClass):this.style.backgroundColor=c.dropColor)},!1);f.addEventListener("dragleave",function(k){k.stopPropagation();k.preventDefault();g.settings.enable&&(c.dropClass?a(this).removeClass(c.dropClass):this.style.backgroundColor="")},!1);f.addEventListener("drop",function(k){g.settings.enable&&(k.stopPropagation(),k.preventDefault(),g.addFiles(k.dataTransfer.files),this.style.backgroundColor="",c.autoStart&&g.uploadAll())},!1);a(document).unbind(".ax").bind("keyup.ax",function(k){27==k.keyCode&&a("#ax-box-shadow, #ax-box").fadeOut(500)})}this.enable(this.settings.enable)},finish:function(){this.upload_all=!1;for(var c=[],f=0;f<this.files.length;f++){c.push(this.files[f].name)}this.settings.finish.call(this,c,this.files);this.settings.beforeSubmit.call(this,c,this.files,function(){if(null!==this.form&&this.form!==d){for(var g="function"==typeof this.settings.remotePath?this.settings.remotePath():this.settings.remotePath,k=0;k<c.length;k++){this.form.append('<input name="ax-uploaded-files[]" type="hidden" value="'+(g+c[k])+'" />')}this.form.unbind("submit.ax");null!==this.form_submit_event&&this.form_submit_event!==d&&this.form.bind("submit",this.form_submit_event);g=this.form.find('[type="submit"]');0<g.length?g.trigger("click"):this.form.submit()}})},addFiles:function(k){for(var l=[],p=0;p<k.length;p++){var q,r,t;this.hasAjaxUpload||this.hasFlash?(r=k[p].name,t=k[p].size):(r=k[p].value.replace(/^.*\\/,""),t=0);q=r.split(".").pop().toLowerCase();var s=this.checkFile(r,t);""==s?(q=new h(k[p],r,t,q,this),this.files.push(q),l.push(q)):this.settings.error.call(this,s,r)}this.settings.onSelect.call(this,l);this.settings.autoStart&&this.uploadAll()},checkFile:function(c,f){var q=c.split(".").pop().toLowerCase(),g=!!(this.files.length<this.settings.maxFiles),t=!!(0<=a.inArray(q,this.settings.allowExt)||0==this.settings.allowExt.length),r=!!(f<=this.max_size),u="function"===typeof this.settings.validateFile?this.settings.validateFile.call(this,c,q,f):"",s="";g||(s=s+b("Max files number reached")+":"+g+"\n");t||(s=s+b("Extension not allowed")+":"+q+"\n");r||(s=s+b("File size now allowed")+":"+f+"\n");""!=u&&u!==d&&null!==u&&(s+=u);return s},getPendingFiles:function(){for(var c=[],f=0;f<this.files.length;f++){0==this.files[f].status&&this.slots<=this.settings.maxConnections&&(c.push(this.files[f]),this.slots++)}return c},uploadAll:function(){this.upload_all=!0;if(!1!==this.settings.beforeUploadAll.call(this,this.files)){for(var c=this.getPendingFiles(),f=0;f<c.length;f++){c[f].startUpload()}}},clearQueue:function(){for(;0<this.files.length;){this.removeFile(0)}},getParams:function(k,l,p){var q=this.settings,r="function"==typeof q.remotePath?q.remotePath():q.remotePath,t=[];t.push("ax-file-path="+(p?encodeURIComponent(r):r));t.push("ax-allow-ext="+(p?encodeURIComponent(q.allowExt.join("|")):q.allowExt.join("|")));t.push("ax-file-name="+(p?encodeURIComponent(k):k));t.push("ax-max-file-size="+q.maxFileSize);t.push("ax-file-size="+l);t.push("ax-thumbPostfix="+(p?encodeURIComponent(q.thumbPostfix):q.thumbPostfix));t.push("ax-thumbPath="+(p?encodeURIComponent(q.thumbPath):q.thumbPath));t.push("ax-thumbFormat="+(p?encodeURIComponent(q.thumbFormat):q.thumbFormat));t.push("ax-thumbHeight="+q.thumbHeight);t.push("ax-thumbWidth="+q.thumbWidth);t.push("ax-random="+10001*Math.random());(this.settings.checkFileExists||this.settings.overrideFile)&&t.push("ax-override=1");k="function"==typeof q.data?q.data():q.data;if("object"==typeof k){for(var s in k){t.push(s+"="+(p?encodeURIComponent(k[s]):k[s]))}}else{if("string"==typeof k&&""!=k){for(p=k.split("&"),s=0;s<p.length;s++){t.push(p[s])}}}return t},removeFile:function(c){var f=this.files[c];f.stopUpload();f.li.remove();f.file=null;this.files.splice(c,1);this.hasFlash&&this.flashObj.removeFile(c);for(c=0;c<this.files.length;c++){this.files[c].pos=c}},stopUpload:function(){for(var c=0;c<this.files.lenght;c++){this.files[c].stopUpload()}},formatSize:function(f){var k=this.settings.precision;"undefined"==typeof k&&(k=2);for(var l=[b("Bytes"),b("KB"),b("MB"),b("GB")],p=0;1024<=f&&p<l.length-1;){f/=1024,p++}var q=Math.round(f),k=Math.pow(10,k);f=Math.round(f*k%k);return q+"."+f+" "+l[p]},options:function(c,f){if(f!==d&&null!==f){this.settings[c]=f,"enable"==c&&this.enable(f)}else{return this.settings[c]}},enable:function(c){(this.settings.enable=c)?this.container.removeClass("ax-disabled").find("input").attr("disabled",!1):this.container.addClass("ax-disabled").find("input").attr("disabled",!0)}};var o={remotePath:"uploads/",url:"upload.php",flash:"uploader.swf",data:"",async:!0,maxFiles:9999,allowExt:[],success:function(c){},finish:function(c,f){},error:function(c,f){},enable:!0,chunkSize:1048576,maxConnections:3,dropColor:"red",dropClass:"ax-drop",dropArea:"self",autoStart:!1,thumbHeight:0,thumbWidth:0,thumbPostfix:"_thumb",thumbPath:"",thumbFormat:"",maxFileSize:"10M",form:null,hideUploadForm:!0,beforeSubmit:function(f,g,k){k.call(this)},editFilename:!1,beforeUpload:function(c,f){return !0},beforeUploadAll:function(c){return !0},onSelect:function(c){},onInit:function(c){},language:"auto",uploadDir:!1,removeOnSuccess:!1,removeOnError:!1,bootstrap:!1,previews:!0,validateFile:function(f,g,k){},overrideFile:!1,checkFileExists:!1,fileInfo:function(f){var g="",k;for(k in f){f.hasOwnProperty(k)&&(g="object"==typeof f[k]?g+(k+" : ["+f[k].length+" values]\r\n"):g+(k+" : "+f[k]+"\r\n"))}alert(g)},allowDelete:!1},m={init:function(c){return this.each(function(){var f=a.extend({},o,c),k=a(this).html(""),g=k.data("AU");g!==d&&null!==g||k.data("AU",new n(k,f))})},clear:function(){return this.each(function(){a(this).data("AU").clearQueue()})},start:function(){return this.each(function(){a(this).data("AU").uploadAll()})},addFlash:function(c){a(this).data("AU").addFiles(c)},progressFlash:function(c,f){a(this).data("AU").files[f].onProgress(c)},onFinishFlash:function(c,g){var l=a(this).data("AU");l.uploading=!1;try{var k=jQuery.parseJSON(c);if(-1==parseInt(k.status)){throw k.info}l.files[g].onFinishUpload(k.name,k.size,k.status,k.info)}catch(p){l.files[g].onError(p)}},getUrl:function(c,f){return a(this).data("AU").settings.url},getParams:function(c,f){return a(this).data("AU").getParams(c,f,!0).join("&")},getAllowedExt:function(c){var f=a(this).data("AU").settings.allowExt;return !0===c?f:f.join("|")},getMaxFileNum:function(c){return a(this).data("AU").settings.maxFiles},checkFile:function(c,f){return""==a(this).data("AU").checkFile(c,f)},checkEnable:function(){return a(this).data("AU").settings.enable},getFiles:function(){return a(this).data("AU").files},enable:function(){return this.each(function(){a(this).data("AU").enable(!0)})},disable:function(){return this.each(function(){a(this).data("AU").enable(!1)})},destroy:function(){return this.each(function(){var c=a(this);c.data("AU").clearQueue();c.removeData("AU").html("")})},option:function(c,f){return this.each(function(){return a(this).data("AU").options(c,f)})},debug:function(c){}};a.fn.ajaxupload=function(c,f){if(m[c]){return m[c].apply(this,Array.prototype.slice.call(arguments,1))}if("object"!==typeof c&&c){a.error("Method "+c+" does not exist on jQuery.AjaxUploader")}else{return m.init.apply(this,arguments)}}})(jQuery);