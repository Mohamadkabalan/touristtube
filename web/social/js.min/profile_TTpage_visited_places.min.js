$(document).ready(function(){$(document).on("click",".peoplesdataclose",function(){var a=$(this).parent();var b=a.parent().parent();a.remove();if(a.attr("data-id")!=""){SelectedUsersDelete(a.attr("data-id"),b.find(".addmore input"))}if(a.attr("id")=="friendsdata"){b.find(".uploadinfocheckbox3").removeClass("active")}else{if(a.attr("id")=="followersdata"){b.find(".uploadinfocheckbox4").removeClass("active")}else{if(a.attr("id")=="friends_of_friends_data"){b.find(".uploadinfocheckbox_friends_of_friends").removeClass("active")}}}});$(document).on("click",".sharepopup_butBRCancel",function(){$(".fancybox-close").click()});$(".visited_places_item_share").each(function(i,h){var b=$(this);var a=b.closest(".visited_places_item");var e=a.attr("data-id");var d=a.attr("data-country");var g=a.attr("data-state");var c=a.attr("data-city");var f=parseInt(a.attr("data-privacy"));b.fancybox({padding:0,margin:0,beforeLoad:function(){$("#sharepopup").html("");var j='<div class="sharepopup_container_icon"></div><div class="sharepopup_container" data-id="'+e+'" data-type="'+f+'"><div class="channelyellow13 formContainer100">'+t("share location")+"</div>";j+='<div class="font12boldBlack formContainer100 margintop15">'+c+"</div>";if(g!=""){j+='<div class="font11boldGray formContainer100">'+g+"</div>"}j+='<div class="font11boldGray formContainer100">'+d+"</div>";j+='<div class="formttl13 formContainer100 margintop26">'+$.i18n._("write something")+'</div><textarea id="invitetext" class="ChaFocus margintop5" onblur="addValue2(this)" onfocus="removeValue2(this)" data-value="'+$.i18n._("write something...")+'" style="font-family:Arial, Helvetica, sans-serif; width:401px; height:42px;" type="text" name="invitetext">'+$.i18n._("write something...")+"</textarea>";j+='<div class="formttl13 formContainer100 margintop15">'+t("add people (T tubers)")+"</div>";j+='<div class="peoplecontainer formContainer100 margintop2"><div class="emailcontainer"><div class="addmore"><input name="addmoretext" id="addmoretext" type="text" class="" data-value="'+$.i18n._("add more")+'" value="'+$.i18n._("add more")+'" onfocus="removeValue2(this)" onblur="addValue2(this)" data-id=""/></div></div>';j+='<div class="friendscontainer"><div class="uploadinfocheckbox uploadinfocheckbox3 formttl13 margintop8 marginleft5" data-value="2"><div class="uploadinfocheckboxpic"></div><div class="uploadinfocheckboxtxt" style="font-size:12px; font-weight:normal; color:#000000;"> '+t("friends")+'<span style="color:#b8b8b8;"></span></div></div>';if(f==USER_PRIVACY_PUBLIC){j+='<div class="uploadinfocheckbox uploadinfocheckbox_friends_of_friends formttl13 margintop5 marginleft5" data-value="2"><div class="uploadinfocheckboxpic"></div><div class="uploadinfocheckboxtxt" style="font-size:12px; font-weight:normal; color:#000000;"> '+t("friends of friends")+'<span style="color:#b8b8b8;"></span></div></div>';j+='<div class="uploadinfocheckbox uploadinfocheckbox4 formttl13 margintop5 marginleft5" data-value="2"><div class="uploadinfocheckboxpic"></div><div class="uploadinfocheckboxtxt" style="font-size:12px; font-weight:normal; color:#000000;"> '+t("followers")+'<span style="color:#b8b8b8;"></span></div></div>'}j+='</div></div><div class="sharepopup_butcontainer margintop8"><div class="sharepopup_butBRCancel sharepopup_buts">'+t("cancel")+'</div><div class="sharepopup_butseperator"></div><div id="share_popup_but" class="sharepopup_but2 sharepopup_buts">'+t("send")+"</div></div></div>";$("#sharepopup").html(j);resetSelectedUsers();addmoreusersautocomplete_share_places($("#addmoretext"))}})});$(document).on("click","#share_popup_but",function(){var b=$(this);var a=b.parent().parent();var d=getObjectData(a.find("#invitetext"));var e=new Array();a.find(".peoplecontainer .emailcontainer .peoplesdata").each(function(){var f=$(this);if(f.attr("id")=="friendsdata"){e.push({friends:1})}else{if(f.attr("id")=="followersdata"){e.push({followers:1})}else{if(f.attr("id")=="option_6"){e.push({connections:1})}else{if(f.attr("data-email")!=""){e.push({email:f.attr("data-email")})}else{if(parseInt(f.attr("data-id"))!=0){e.push({id:f.attr("data-id")})}}}}}});if(e.length==0){return}var c=$("#right_container").attr("data-real");if(c==""){window.location.reload()}TTCallAPI({what:"social/share",data:{entity_type:SOCIAL_ENTITY_VISITED_PLACES,real_user:c,entity_id:a.attr("data-id"),share_with:e,share_type:SOCIAL_SHARE_TYPE_SHARE,msg:d,channel_id:null,addToFeeds:1},callback:function(f){closeFancyBox()}})});$(document).on("click",".uploadinfocheckbox",function(){if($(this).hasClass("active")){$(this).removeClass("active");if($(this).hasClass("uploadinfocheckbox3")){if($(this).parent().hasClass("friendscontainer")){$(this).parent().parent().find("#friendsdata").remove()}}else{if($(this).hasClass("uploadinfocheckbox_friends_of_friends")){if($(this).parent().hasClass("friendscontainer")){$(this).parent().parent().find("#friends_of_friends_data").remove()}}else{if($(this).hasClass("uploadinfocheckbox4")){if($(this).parent().hasClass("friendscontainer")){$(this).parent().parent().find("#followersdata").remove()}}}}}else{if($(this).hasClass("uploadinfocheckbox3")){if($(this).parent().hasClass("friendscontainer")){var b='<div class="peoplesdata formttl13" id="friendsdata" data-email="" data-id=""><div class="peoplesdatainside">'+t("friends")+'</div><div class="peoplesdataclose"></div></div>';$(this).parent().parent().find(".emailcontainer").prepend(b)}}else{if($(this).hasClass("uploadinfocheckbox_friends_of_friends")){if($(this).parent().hasClass("friendscontainer")){var a='<div class="peoplesdata formttl13" id="friends_of_friends_data" data-email="" data-id=""><div class="peoplesdatainside">'+t("friends of friends")+'</div><div class="peoplesdataclose"></div></div>';$(this).parent().parent().find(".emailcontainer").prepend(a)}}else{if($(this).hasClass("uploadinfocheckbox4")){if($(this).parent().hasClass("friendscontainer")){var a='<div class="peoplesdata formttl13" id="followersdata" data-email="" data-id=""><div class="peoplesdatainside">'+t("followers")+'</div><div class="peoplesdataclose"></div></div>';$(this).parent().parent().find(".emailcontainer").prepend(a)}}}}$(this).addClass("active")}})});