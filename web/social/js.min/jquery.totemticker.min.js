(function(a){if(!a.omr){a.omr=new Object()}a.omr.totemticker=function(c,d){var b=this;b.el=c;b.$el=a(c);b.$el.data("omr.totemticker",b);b.init=function(){b.options=a.extend({},a.omr.totemticker.defaultOptions,d);b.ticker;b.format_ticker();b.setup_nav();b.start_interval()};b.start_interval=function(){clearInterval(b.ticker);b.ticker=setInterval(function(){b.$el.find("li:first").animate({marginTop:"-"+b.options.row_height,},b.options.speed,function(){a(this).detach().css("marginTop","0").appendTo(b.$el)})},b.options.interval)};b.reset_interval=function(){clearInterval(b.ticker);b.start_interval()};b.stop_interval=function(){clearInterval(b.ticker)};b.format_ticker=function(){if(typeof(b.options.max_items)!="undefined"&&b.options.max_items!=null){var e=b.options.row_height.replace(/px/i,"");var f=e*b.options.max_items;b.$el.css({height:f+"px",overflow:"hidden",})}else{b.$el.css({overflow:"hidden",})}};b.setup_nav=function(){if(typeof(b.options.stop)!="undefined"&&b.options.stop!=null){a(b.options.stop).click(function(){b.stop_interval();return false})}if(typeof(b.options.start)!="undefined"&&b.options.start!=null){a(b.options.start).click(function(){b.start_interval();return false})}if(typeof(b.options.previous)!="undefined"&&b.options.previous!=null){a(b.options.previous).click(function(){b.$el.find("li:last").detach().prependTo(b.$el).css("marginTop","-"+b.options.row_height);b.$el.find("li:first").animate({marginTop:"0px",},b.options.speed,function(){b.reset_interval()});return false})}if(typeof(b.options.next)!="undefined"&&b.options.next!=null){a(b.options.next).click(function(){b.$el.find("li:first").animate({marginTop:"-"+b.options.row_height,},b.options.speed,function(){a(this).detach().css("marginTop","0px").appendTo(b.$el);b.reset_interval()});return false})}if(typeof(b.options.mousestop)!="undefined"&&b.options.mousestop===true){b.$el.mouseenter(function(){b.stop_interval()}).mouseleave(function(){b.start_interval()})}};b.debug_info=function(){console.log(b.options)};b.init()};a.omr.totemticker.defaultOptions={message:"Ticker Loaded",next:null,previous:null,stop:null,start:null,row_height:"100px",speed:800,interval:4000,max_items:null,};a.fn.totemticker=function(b){return this.each(function(){(new a.omr.totemticker(this,b))})}})(jQuery);