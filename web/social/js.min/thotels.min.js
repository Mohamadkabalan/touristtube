function setGuests(){var a="";if($("#guests_sel").val()===""){a=$("#guests_sel_rooms").val()+"-"+$("#guests_sel_adults").val()+"-"+$("#guests_sel_children").val()}else{a=$("#guests_sel").val()}$("#guests").val(a)}function getStar(){var a="";$(".starBlockSel").each(function(){a+=$(this).attr("data-value")+","});a=a.substring(0,a.length-1);return a}function setCurrency(b,c,d,e,a){$.fancybox.close();$("#hotelBudgetOption1 span").html(c);$("#hotelBudgetOption2 span").html(d);$("#hotelBudgetOption3 span").html(e);$(".changeCurrencyBtn").html(a)}$(document).ready(function(){InitCalendar("checkinDate");InitCalendar("checkoutDate");autocompleteHotels($("#hotelTextInput_search"));$(".starBlock").click(function(){$(this).toggleClass("starBlockSel")});$(".hotelBudgetOption").click(function(){$this=$(this);if(!$this.hasClass("hotelBudgetOptionSel")){$(".hotelBudgetOption").removeClass("hotelBudgetOptionSel");$this.addClass("hotelBudgetOptionSel")}});$(".evalHotelsList ul li").mouseenter(function(){$(this).find(".hotelpopUp").show()});$(".evalHotelsList ul li").mouseleave(function(){$(this).find(".hotelpopUp").hide()});$(".searchButton").click(function(){var f=$("#hotelTextInput_search").val();if(f==""){TTAlert({msg:t("You have to specify a destination"),type:"alert",btn1:t("ok"),btn2:"",btn2Callback:null});return}var e="";var a=$("#checkinDate").attr("data-value");var b=$("#checkoutDate").attr("data-value");var c=$("#hotelTextInput_search").attr("data-hotel");var d="";if(typeof a!=="undefined"&&a!==""){d+="/from/"+a;if(typeof b!=="undefined"&&b!==""){d+="/to/"+b}}if($("#guests").val()!=""){e+="/room/"+$("#guests").val()}if($("#hotelTextInput_search").attr("data-city")!=""){e+="/C/"+$("#hotelTextInput_search").attr("data-city")}if($("#hotelTextInput_search").attr("data-state-code")!=""){e+="/ST/"+$("#hotelTextInput_search").attr("data-state-code")}if($("#hotelTextInput_search").attr("data-code")!=""){e+="/CO/"+$("#hotelTextInput_search").attr("data-code")}if(c!=""&&parseInt(c)>0){var g=ReturnLink("/thotel/id/"+parseInt(c)+"/s/"+f+e+d)}else{if(getStar()!=""){e+="/star/"+getStar()}if($(".hotelBudgetOption.hotelBudgetOptionSel").length>0){e+="/budget/"+$(".hotelBudgetOption.hotelBudgetOptionSel").attr("data-value")}var g=ReturnLink("/hotel-search/"+f+e+d)}window.open(g,"_blank")});$(document).on("click",".advancedSearchBtn",function(){$(this).hide();$(".basicSearchPart").addClass("advSearchPart");$(".basicSearchBtn").show();$(".advSearchFieldsCon").show()});$(document).on("click",".basicSearchBtn",function(){$(this).hide();$(".basicSearchPart").removeClass("advSearchPart");$(".advancedSearchBtn").show();$(".advSearchFieldsCon").hide()});$(document).on("change","#guests_sel",function(){if($(this).val()==""){$(".guestSelectGroup").show()}else{$(".guestSelectGroup").hide()}setGuests()});$(document).on("change","#guests_sel_rooms,#guests_sel_adults,#guests_sel_children",function(){setGuests()});$("#guests_sel").change()});function InitCalendar(a){Calendar.setup({inputField:a,noScroll:true,trigger:a,align:"B",onSelect:function(b){var c=Calendar.intToDate(b.selection.get());$("#"+a).attr("data-value",Calendar.printDate(c,"%Y-%m-%d"));this.hide()},dateFormat:"%d / %m / %Y",disabled:function(c){var d=new Date();var b=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0,0);return(c<b)}})};