(function(d){var g=new Hashtable();var k=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"];var i=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"];var j=["cz","fi","fr","ru","se","pl"];var h=["ch"];var f=[[".",","],[",","."],[","," "],[".","'"]];var e=[k,i,j,h];function b(l,m,n){this.dec=l;this.group=m;this.neg=n}function c(){for(var m=0;m<e.length;m++){localeGroup=e[m];for(var l=0;l<localeGroup.length;l++){g.put(localeGroup[l],m)}}}function a(q,p){if(g.size()==0){c()}var n=".";var o=",";var r="-";if(p==false){if(q.indexOf("_")!=-1){q=q.split("_")[1].toLowerCase()}else{if(q.indexOf("-")!=-1){q=q.split("-")[1].toLowerCase()}}}var m=g.get(q);if(m){var l=f[m];if(l){n=l[0];o=l[1]}}return new b(n,o,r)}d.fn.formatNumber=function(m,n,l){return this.each(function(){if(n==null){n=true}if(l==null){l=true}var p;if(d(this).is(":input")){p=new String(d(this).val())}else{p=new String(d(this).text())}var o=d.formatNumber(p,m);if(n){if(d(this).is(":input")){d(this).val(o)}else{d(this).text(o)}}if(l){return o}})};d.formatNumber=function(s,t){var t=d.extend({},d.fn.formatNumber.defaults,t);var m=a(t.locale.toLowerCase(),t.isFullLocale);var l=m.dec;var n=m.group;var p=m.neg;var w="0#-,.";var u="";var q=false;for(var o=0;o<t.format.length;o++){if(w.indexOf(t.format.charAt(o))==-1){u=u+t.format.charAt(o)}else{if(o==0&&t.format.charAt(o)=="-"){q=true;continue}else{break}}}var v="";for(var o=t.format.length-1;o>=0;o--){if(w.indexOf(t.format.charAt(o))==-1){v=t.format.charAt(o)+v}else{break}}t.format=t.format.substring(u.length);t.format=t.format.substring(0,t.format.length-v.length);var r=new Number(s);return d._formatNumber(r,t,v,u,q)};d._formatNumber=function(z,F,M,K,x){var F=d.extend({},d.fn.formatNumber.defaults,F);var r=a(F.locale.toLowerCase(),F.isFullLocale);var l=r.dec;var s=r.group;var w=r.neg;var q=false;if(isNaN(z)){if(F.nanForceZero==true){z=0;q=true}else{return null}}if(M=="%"){z=z*100}var L="";if(F.format.indexOf(".")>-1){var n=l;var m=F.format.substring(F.format.lastIndexOf(".")+1);if(F.round==true){z=new Number(z.toFixed(m.length))}else{var A=z.toString();A=A.substring(0,A.lastIndexOf(".")+m.length+1);z=new Number(A)}var p=z%1;var o=new String(p.toFixed(m.length));o=o.substring(o.lastIndexOf(".")+1);for(var v=0;v<m.length;v++){if(m.charAt(v)=="#"&&o.charAt(v)!="0"){n+=o.charAt(v);continue}else{if(m.charAt(v)=="#"&&o.charAt(v)=="0"){var y=o.substring(v);if(y.match("[1-9]")){n+=o.charAt(v);continue}else{break}}else{if(m.charAt(v)=="0"){n+=o.charAt(v)}}}}L+=n}else{z=Math.round(z)}var C=Math.floor(z);if(z<0){C=Math.ceil(z)}var D="";if(F.format.indexOf(".")==-1){D=F.format}else{D=F.format.substring(0,F.format.indexOf("."))}var B="";if(!(C==0&&D.substr(D.length-1)=="#")||q){var E=new String(Math.abs(C));var u=9999;if(D.lastIndexOf(",")!=-1){u=D.length-D.lastIndexOf(",")-1}var t=0;for(var v=E.length-1;v>-1;v--){B=E.charAt(v)+B;t++;if(t==u&&v!=0){B=s+B;t=0}}if(D.length>B.length){var I=D.indexOf("0");if(I!=-1){var H=D.length-I;var J=D.length-B.length-1;while(B.length<H){var G=D.charAt(J);if(G==","){G=s}B=G+B;J--}}}}if(!B&&D.indexOf("0",D.length-1)!==-1){B="0"}L=B+L;if(z<0&&x&&K.length>0){K=w+K}else{if(z<0){L=w+L}}if(!F.decimalSeparatorAlwaysShown){if(L.lastIndexOf(l)==L.length-1){L=L.substring(0,L.length-1)}}L=K+L+M;return L};d.fn.parseNumber=function(n,p,l){if(p==null){p=true}if(l==null){l=true}var o;if(d(this).is(":input")){o=new String(d(this).val())}else{o=new String(d(this).text())}var m=d.parseNumber(o,n);if(m){if(p){if(d(this).is(":input")){d(this).val(m.toString())}else{d(this).text(m.toString())}}if(l){return m}}};d.parseNumber=function(u,v){var v=d.extend({},d.fn.parseNumber.defaults,v);var o=a(v.locale.toLowerCase(),v.isFullLocale);var l=o.dec;var p=o.group;var s=o.neg;var w="1234567890.-";while(u.indexOf(p)>-1){u=u.replace(p,"")}u=u.replace(l,".").replace(s,"-");var x="";var q=false;if(u.charAt(u.length-1)=="%"||v.isPercentage==true){q=true}for(var r=0;r<u.length;r++){if(w.indexOf(u.charAt(r))>-1){x=x+u.charAt(r)}}var t=new Number(x);if(q){t=t/100;var n=x.indexOf(".");if(n!=-1){var m=x.length-n-1;t=t.toFixed(m+2)}else{t=t.toFixed(x.length-1)}}return t};d.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:false,isPercentage:false,isFullLocale:false};d.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:false,nanForceZero:true,round:true,isFullLocale:false};Number.prototype.toFixed=function(l){return d._roundNumber(this,l)};d._roundNumber=function(n,l){var o=Math.pow(10,l||0);var p=String(Math.round(n*o)/o);if(l>0){var m=p.indexOf(".");if(m==-1){p+=".";m=0}else{m=p.length-(m+1)}while(m<l){p+="0";m++}}return p}})(jQuery);