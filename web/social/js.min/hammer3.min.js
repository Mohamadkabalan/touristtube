function Hammer(z,L,Q){var O=this;var y=K({prevent_default:false,css_hacks:true,swipe:true,swipe_time:500,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500,allow_touch_and_mouse:false},Hammer.defaults||{});L=K(y,L);(function(){if(!L.css_hacks){return false}var V=["webkit","moz","ms","o",""];var R={userSelect:"none",touchCallout:"none",touchAction:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var U="";for(var S=0;S<V.length;S++){for(var T in R){U=T;if(V[S]){U=V[S]+U.substring(0,1).toUpperCase()+U.substring(1)}z.style[U]=R[T]}}})();var d=0;var a=0;var c=0;var o={};var h=0;var i=false;var j=null;var p=null;var s=null;var r={x:0,y:0};var q=null;var l=null;var n={};var m=false;var g;var f;var e;var k=("ontouchstart" in window);var b=false;this.option=function(R,S){if(S!==Q){L[R]=S}return L[R]};this.getDirectionFromAngle=function(R){var T={down:R>=45&&R<135,left:R>=135||R<=-135,up:R<-45&&R>-135,right:R>=-45&&R<=45};var S,U;for(U in T){if(T[U]){S=U;break}}return S};this.destroy=function(){if(k||L.allow_touch_and_mouse){M(z,"touchstart touchmove touchend touchcancel",G)}if(!k||L.allow_touch_and_mouse){M(z,"mouseup mousedown mousemove",G);M(z,"mouseout",H)}};function x(R){return R.touches?R.touches.length:1}function E(T){var S=document,R=S.body;return[{x:T.pageX||T.clientX+(S&&S.scrollLeft||R&&R.scrollLeft||0)-(S&&S.clientLeft||R&&S.clientLeft||0),y:T.pageY||T.clientY+(S&&S.scrollTop||R&&R.scrollTop||0)-(S&&S.clientTop||R&&S.clientTop||0)}]}function F(R){var T=[],U;for(var V=0,S=L.two_touch_max?Math.min(2,R.touches.length):R.touches.length;V<S;V++){U=R.touches[V];T.push({x:U.pageX,y:U.pageY})}return T}function D(S){var R=E;S=S||window.event;if(!k){if(L.allow_touch_and_mouse&&S.touches!==Q&&S.touches.length>0){R=F}}else{R=F}return R(S)}function B(R,S){return Math.atan2(S.y-R.y,S.x-R.x)*180/Math.PI}function C(R,S){var T=S.x-R.x,U=S.y-R.y;return Math.sqrt((T*T)+(U*U))}function v(T,S){if(T.length==2&&S.length==2){var U=C(T[0],T[1]);var R=C(S[0],S[1]);return R/U}return 0}function u(T,S){if(T.length==2&&S.length==2){var U=B(T[1],T[0]);var R=B(S[1],S[0]);return R-U}return 0}function P(R,S){S.touches=D(S.originalEvent);S.type=R;if(I(O["on"+R])){O["on"+R].call(O,S)}}function w(R){R=R||window.event;if(R.preventDefault){R.preventDefault();R.stopPropagation()}else{R.returnValue=false;R.cancelBubble=true}}function N(){o={};i=false;h=0;d=0;a=0;j=null}var A={hold:function(R){if(L.hold){j="hold";clearTimeout(l);l=setTimeout(function(){if(j=="hold"){P("hold",{originalEvent:R,position:o.start})}},L.hold_timeout)}},swipe:function(T){if(!o.move||j==="transform"){return}var R=o.move[0].x-o.start[0].x;var S=o.move[0].y-o.start[0].y;d=Math.sqrt(R*R+S*S);var V=new Date().getTime();var X=V-s;if(L.swipe&&(L.swipe_time>=X)&&(d>=L.swipe_min_distance)){a=B(o.start[0],o.move[0]);c=O.getDirectionFromAngle(a);j="swipe";var W={x:o.move[0].x-n.left,y:o.move[0].y-n.top};var U={originalEvent:T,position:W,direction:c,distance:d,distanceX:R,distanceY:S,angle:a};P("swipe",U)}},drag:function(T){var R=o.move[0].x-o.start[0].x;var S=o.move[0].y-o.start[0].y;d=Math.sqrt(R*R+S*S);if(L.drag&&(d>L.drag_min_distance)||j=="drag"){a=B(o.start[0],o.move[0]);c=O.getDirectionFromAngle(a);var V=(c=="up"||c=="down");if(((V&&!L.drag_vertical)||(!V&&!L.drag_horizontal))&&(d>L.drag_min_distance)){return}j="drag";var W={x:o.move[0].x-n.left,y:o.move[0].y-n.top};var U={originalEvent:T,position:W,direction:c,distance:d,distanceX:R,distanceY:S,angle:a};if(i){P("dragstart",U);i=false}P("drag",U);w(T)}},transform:function(U){if(L.transform){var T=x(U);if(T!==2){return false}var W=u(o.start,o.move);var X=v(o.start,o.move);if(j==="transform"||Math.abs(1-X)>L.scale_treshold||Math.abs(W)>L.rotation_treshold){j="transform";o.center={x:((o.move[0].x+o.move[1].x)/2)-n.left,y:((o.move[0].y+o.move[1].y)/2)-n.top};if(i){o.startCenter=o.center}var R=o.center.x-o.startCenter.x;var S=o.center.y-o.startCenter.y;d=Math.sqrt(R*R+S*S);var V={originalEvent:U,position:o.center,scale:X,rotation:W,distance:d,distanceX:R,distanceY:S};if(i){P("transformstart",V);i=false}P("transform",V);w(U);return true}}return false},tap:function(R){var T=new Date().getTime();var U=T-s;if(L.hold&&!(L.hold&&L.hold_timeout>U)){return}var S=(function(){if(r&&L.tap_double&&p=="tap"&&o.start&&(s-q)<L.tap_max_interval){var X=Math.abs(r[0].x-o.start[0].x);var Y=Math.abs(r[0].y-o.start[0].y);return(r&&o.start&&Math.max(X,Y)<L.tap_double_distance)}return false})();if(S){j="double_tap";q=null;P("doubletap",{originalEvent:R,position:o.start});w(R)}else{var V=(o.move)?Math.abs(o.move[0].x-o.start[0].x):0;var W=(o.move)?Math.abs(o.move[0].y-o.start[0].y):0;d=Math.max(V,W);if(d<L.tap_max_distance){j="tap";q=T;r=o.start;if(L.tap){P("tap",{originalEvent:R,position:o.start});w(R)}}}}};function G(W){var V;switch(W.type){case"mousedown":case"touchstart":V=x(W);b=V===1;if(V===2&&j==="drag"){P("dragend",{originalEvent:W,direction:c,distance:d,angle:a})}T();if(L.prevent_default){w(W)}break;case"mousemove":case"touchmove":V=x(W);if(!m&&V===1){return false}else{if(!m&&V===2){b=false;N();T()}}f=W;o.move=D(W);if(!A.transform(W)){A.drag(W)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":var U=true;m=false;e=W;A.swipe(W);if(j=="drag"){P("dragend",{originalEvent:W,direction:c,distance:d,angle:a})}else{if(j=="transform"){var R=o.center.x-o.startCenter.x;var S=o.center.y-o.startCenter.y;P("transformend",{originalEvent:W,position:o.center,scale:v(o.start,o.move),rotation:u(o.start,o.move),distance:d,distanceX:R,distanceY:S});if(x(W)===1){N();T();U=false}}else{if(b&&W.type!="mouseout"){A.tap(g)}}}if(j!==null){p=j;P("release",{originalEvent:W,gesture:j,position:o.move||o.start})}if(U){N()}break}function T(){o.start=D(W);s=new Date().getTime();h=x(W);i=true;g=W;var X=z.getBoundingClientRect();var Z=z.clientTop||document.body.clientTop||0;var Y=z.clientLeft||document.body.clientLeft||0;var ab=window.pageYOffset||z.scrollTop||document.body.scrollTop;var aa=window.pageXOffset||z.scrollLeft||document.body.scrollLeft;n={top:X.top+ab-Z,left:X.left+aa-Y};m=true;A.hold(W)}}function H(R){if(!J(z,R.relatedTarget)){G(R)}}if(k||L.allow_touch_and_mouse){t(z,"touchstart touchmove touchend touchcancel",G)}if(!k||L.allow_touch_and_mouse){t(z,"mouseup mousedown mousemove",G);t(z,"mouseout",H)}function J(T,R){if(!R&&window.event&&window.event.toElement){R=window.event.toElement}if(T===R){return true}if(R){var S=R.parentNode;while(S!==null){if(S===T){return true}S=S.parentNode}}return false}function K(R,S){var T={};if(!S){return R}for(var U in R){if(U in S){T[U]=S[U]}else{T[U]=R[U]}}return T}function I(R){return Object.prototype.toString.call(R)=="[object Function]"}function t(S,V,R){V=V.split(" ");for(var U=0,T=V.length;U<T;U++){if(S.addEventListener){S.addEventListener(V[U],R,false)}else{if(document.attachEvent){S.attachEvent("on"+V[U],R)}}}}function M(S,V,R){V=V.split(" ");for(var U=0,T=V.length;U<T;U++){if(S.removeEventListener){S.removeEventListener(V[U],R,false)}else{if(document.detachEvent){S.detachEvent("on"+V[U],R)}}}}};