function Hammer(y,I,N){var L=this;var x={prevent_default:false,css_hacks:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500};I=H(x,I);(function(){if(!I.css_hacks){return false}var S=["webkit","moz","ms","o",""];var O={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var R="";for(var P=0;P<S.length;P++){for(var Q in O){R=Q;if(S[P]){R=S[P]+R.substring(0,1).toUpperCase()+R.substring(1)}y.style[R]=O[Q]}}})();var c=0;var a=0;var b=0;var n={};var g=0;var h=false;var i=null;var o=null;var r=null;var q={x:0,y:0};var p=null;var k=null;var m={};var l=false;var f;var e;var d;var j=("ontouchstart" in window);this.option=function(O,P){if(P!=N){I[O]=P}return I[O]};this.getDirectionFromAngle=function(O){var Q={down:O>=45&&O<135,left:O>=135||O<=-135,up:O<-45&&O>-135,right:O>=-45&&O<=45};var P,R;for(R in Q){if(Q[R]){P=R;break}}return P};this.destroy=function(){if(j){J(y,"touchstart touchmove touchend touchcancel",D)}else{J(y,"mouseup mousedown mousemove",D);J(y,"mouseout",E)}};function w(O){return O.touches?O.touches.length:1}function C(Q){Q=Q||window.event;if(!j){var P=document,O=P.body;return[{x:Q.pageX||Q.clientX+(P&&P.scrollLeft||O&&O.scrollLeft||0)-(P&&P.clientLeft||O&&P.clientLeft||0),y:Q.pageY||Q.clientY+(P&&P.scrollTop||O&&O.scrollTop||0)-(P&&P.clientTop||O&&P.clientTop||0)}]}else{var S=[],T;for(var U=0,R=Q.touches.length;U<R;U++){T=Q.touches[U];S.push({x:T.pageX,y:T.pageY})}return S}}function A(O,P){return Math.atan2(P.y-O.y,P.x-O.x)*180/Math.PI}function B(O,P){var Q=P.x-O.x,R=P.y-O.y;return Math.sqrt((Q*Q)+(R*R))}function u(Q,P){if(Q.length==2&&P.length==2){var R=B(Q[0],Q[1]);var O=B(P[0],P[1]);return O/R}return 0}function t(Q,P){if(Q.length==2&&P.length==2){var R=A(Q[1],Q[0]);var O=A(P[1],P[0]);return O-R}return 0}function M(O,P){P.touches=C(P.originalEvent);P.type=O;if(F(L["on"+O])){L["on"+O].call(L,P)}}function v(O){O=O||window.event;if(O.preventDefault){O.preventDefault();O.stopPropagation()}else{O.returnValue=false;O.cancelBubble=true}}function K(){n={};h=false;g=0;c=0;a=0;i=null}var z={hold:function(O){if(I.hold){i="hold";clearTimeout(k);k=setTimeout(function(){if(i=="hold"){M("hold",{originalEvent:O,position:n.start})}},I.hold_timeout)}},swipe:function(Q){if(!n.move){return}var O=n.move[0].x-n.start[0].x;var P=n.move[0].y-n.start[0].y;c=Math.sqrt(O*O+P*P);var S=new Date().getTime();var U=S-r;if(I.swipe&&(I.swipe_time>U)&&(c>I.swipe_min_distance)){a=A(n.start[0],n.move[0]);b=L.getDirectionFromAngle(a);i="swipe";var T={x:n.move[0].x-m.left,y:n.move[0].y-m.top};var R={originalEvent:Q,position:T,direction:b,distance:c,distanceX:O,distanceY:P,angle:a};M("swipe",R)}},drag:function(Q){var O=n.move[0].x-n.start[0].x;var P=n.move[0].y-n.start[0].y;c=Math.sqrt(O*O+P*P);if(I.drag&&(c>I.drag_min_distance)||i=="drag"){a=A(n.start[0],n.move[0]);b=L.getDirectionFromAngle(a);var S=(b=="up"||b=="down");if(((S&&!I.drag_vertical)||(!S&&!I.drag_horizontal))&&(c>I.drag_min_distance)){return}i="drag";var T={x:n.move[0].x-m.left,y:n.move[0].y-m.top};var R={originalEvent:Q,position:T,direction:b,distance:c,distanceX:O,distanceY:P,angle:a};if(h){M("dragstart",R);h=false}M("drag",R);v(Q)}},transform:function(O){if(I.transform){if(w(O)!=2){return false}var Q=t(n.start,n.move);var R=u(n.start,n.move);if(i!="drag"&&(i=="transform"||Math.abs(1-R)>I.scale_treshold||Math.abs(Q)>I.rotation_treshold)){i="transform";n.center={x:((n.move[0].x+n.move[1].x)/2)-m.left,y:((n.move[0].y+n.move[1].y)/2)-m.top};var P={originalEvent:O,position:n.center,scale:R,rotation:Q};if(h){M("transformstart",P);h=false}M("transform",P);v(O);return true}}return false},tap:function(O){var Q=new Date().getTime();var R=Q-r;if(I.hold&&!(I.hold&&I.hold_timeout>R)){return}var P=(function(){if(q&&I.tap_double&&o=="tap"&&(r-p)<I.tap_max_interval){var U=Math.abs(q[0].x-n.start[0].x);var V=Math.abs(q[0].y-n.start[0].y);return(q&&n.start&&Math.max(U,V)<I.tap_double_distance)}return false})();if(P){i="double_tap";p=null;M("doubletap",{originalEvent:O,position:n.start});v(O)}else{var S=(n.move)?Math.abs(n.move[0].x-n.start[0].x):0;var T=(n.move)?Math.abs(n.move[0].y-n.start[0].y):0;c=Math.max(S,T);if(c<I.tap_max_distance){i="tap";p=Q;q=n.start;if(I.tap){M("tap",{originalEvent:O,position:n.start});v(O)}}}}};function D(R){switch(R.type){case"mousedown":case"touchstart":n.start=C(R);r=new Date().getTime();g=w(R);h=true;f=R;var O=y.getBoundingClientRect();var Q=y.clientTop||document.body.clientTop||0;var P=y.clientLeft||document.body.clientLeft||0;var T=window.pageYOffset||y.scrollTop||document.body.scrollTop;var S=window.pageXOffset||y.scrollLeft||document.body.scrollLeft;m={top:O.top+T-Q,left:O.left+S-P};l=true;z.hold(R);if(I.prevent_default){v(R)}break;case"mousemove":case"touchmove":if(!l){return false}e=R;n.move=C(R);if(!z.transform(R)){z.drag(R)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!l||(i!="transform"&&R.touches&&R.touches.length>0)){return false}l=false;d=R;z.swipe(R);if(i=="drag"){M("dragend",{originalEvent:R,direction:b,distance:c,angle:a})}else{if(i=="transform"){M("transformend",{originalEvent:R,position:n.center,scale:u(n.start,n.move),rotation:t(n.start,n.move)})}else{z.tap(f)}}o=i;M("release",{originalEvent:R,gesture:i,position:n.move||n.start});K();break}}function E(O){if(!G(y,O.relatedTarget)){D(O)}}if(j){s(y,"touchstart touchmove touchend touchcancel",D)}else{s(y,"mouseup mousedown mousemove",D);s(y,"mouseout",E)}function G(Q,O){if(!O&&window.event&&window.event.toElement){O=window.event.toElement}if(Q===O){return true}if(O){var P=O.parentNode;while(P!==null){if(P===Q){return true}P=P.parentNode}}return false}function H(O,P){var Q={};if(!P){return O}for(var R in O){if(R in P){Q[R]=P[R]}else{Q[R]=O[R]}}return Q}function F(O){return Object.prototype.toString.call(O)=="[object Function]"}function s(P,S,O){S=S.split(" ");for(var R=0,Q=S.length;R<Q;R++){if(P.addEventListener){P.addEventListener(S[R],O,false)}else{if(document.attachEvent){P.attachEvent("on"+S[R],O)}}}}function J(P,S,O){S=S.split(" ");for(var R=0,Q=S.length;R<Q;R++){if(P.removeEventListener){P.removeEventListener(S[R],O,false)}else{if(document.detachEvent){P.detachEvent("on"+S[R],O)}}}}};