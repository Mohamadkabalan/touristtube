(function(){function a(i){var g,h,f;if(!this.length){return this}g=(this[0]);if(g.ownerDocument){f=g.ownerDocument}else{f=g;g=f.documentElement}if(i==null){if(!((f.cancelFullScreen)||(f.webkitCancelFullScreen)||(f.mozCancelFullScreen))){return null}i=!!f.fullScreen||!!f.webkitIsFullScreen||!!f.mozFullScreen;if(!i){return i}return(f.fullScreenElement)||(f.webkitCurrentFullScreenElement)||(f.mozFullScreenElement)||i}if(i){h=(g.requestFullScreen)||(g.webkitRequestFullScreen)||(g.mozRequestFullScreen);if(h){if(Element.ALLOW_KEYBOARD_INPUT){h.call(g,Element.ALLOW_KEYBOARD_INPUT)}else{h.call(g)}}return this}else{h=(f.cancelFullScreen)||(f.webkitCancelFullScreen)||(f.mozCancelFullScreen);if(h){h.call(f)}return this}}function e(){return(a.call(this,!a.call(this)))}function b(g){jQuery(document).trigger(new jQuery.Event("fullscreenchange"));if($(".fancybox-iframe").size()>0){var f=$(".fancybox-iframe");resetFancy();f[0].contentWindow.showComments()}}function c(f){jQuery(document).trigger(new jQuery.Event("fullscreenerror"))}function d(){var g,f,h;g=document;if(g.webkitCancelFullScreen){f="webkitfullscreenchange";h="webkitfullscreenerror"}else{if(g.mozCancelFullScreen){f="mozfullscreenchange";h="mozfullscreenerror"}else{f="fullscreenchange";h="fullscreenerror"}}jQuery(document).bind(f,b);jQuery(document).bind(h,c)}jQuery.fn.fullScreen=a;jQuery.fn.toggleFullScreen=e;d()})();