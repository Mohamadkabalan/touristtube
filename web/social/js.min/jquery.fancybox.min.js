/*
 * fancyBox - jQuery Plugin
 * version: 2.0.6 (Thu, 19 Jul 2012)
 * touch version: 0.1.0 (2.7.14)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(y,E,w,x){var u=w(y),D=w(E),C=w.fancybox=function(){C.open.apply(this,arguments)},G=null,F=null,v=false,H=false,A=E.createTouch!==x,z=function(a){return a&&a.hasOwnProperty&&a instanceof w},B=function(a){return a&&w.type(a)==="string"},J=function(a){return B(a)&&a.indexOf("%")>0},s=function(a){return(a&&!(a.style.overflow&&a.style.overflow==="hidden")&&((a.clientWidth&&a.scrollWidth>a.clientWidth)||(a.clientHeight&&a.scrollHeight>a.clientHeight)))},I=function(a,b){if(b&&J(a)){a=C.getViewport()[b]/100*parseInt(a,10)}return Math.ceil(a)},t=function(a,b){return I(a,b)+"px"};w.extend(C,{version:"2.0.6",defaults:{padding:0,margin:0,width:800,height:600,minWidth:100,minHeight:67,maxWidth:9999,maxHeight:9999,minMoveX:17,minMoveY:17,preventE:true,autoSize:true,autoHeight:false,autoWidth:false,autoResize:!A,autoCenter:!A,fitToView:true,aspectRatio:false,topRatio:0.5,fixed:false,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"right",34:"down",39:"right",40:"down"},prev:{8:"left",33:"up",37:"left",38:"up"},close:[27],play:[32],toggle:[70]},direction:{next:"right",prev:"left"},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0"'+(w.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"none",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"none",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:250,opacity:0.8,css:{cursor:"pointer"},closeClick:true},title:{type:"float"}},onCancel:w.noop,beforeLoad:w.noop,afterLoad:w.noop,beforeShow:w.noop,afterShow:w.noop,beforeChange:w.noop,beforeClose:w.noop,afterClose:w.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,a){if(!b){return}a=w.isPlainObject(a)?a:{};C.close(true);if(!w.isArray(b)){b=z(b)?w(b).get():[b]}w.each(b,function(k,l){var j={},g,e,c,d,i,f,h;if(w.type(l)==="object"){if(l.nodeType){l=w(l)}if(z(l)){j={href:l.attr("href"),title:l.attr("title"),isDom:true,element:l};if(w.metadata){w.extend(true,j,l.metadata())}}else{j=l}}g=a.href||j.href||(B(l)?l:null);e=a.title!==x?a.title:j.title||"";c=a.content||j.content;d=c?"html":(a.type||j.type);if(!d&&j.isDom){d=l.data("fancybox-type");if(!d){i=l.prop("class").match(/fancybox\.(\w+)/);d=i?i[1]:null}}if(B(g)){if(!d){if(C.isImage(g)){d="image"}else{if(C.isSWF(g)){d="swf"}else{if(g.charAt(0)==="#"){d="inline"}else{if(B(l)){d="html";c=l}}}}}if(d==="ajax"){f=g.split(/\s+/,2);g=f.shift();h=f.shift()}}if(!c){if(d==="inline"){if(g){c=w(B(g)?g.replace(/.*(?=#[^\s]+$)/,""):g)}else{if(j.isDom){c=l}}}else{if(d==="html"){c=g}else{if(!d&&!g&&j.isDom){d="inline";c=l}}}}w.extend(j,{href:g,type:d,content:c,title:e,selector:h});b[k]=j});C.opts=w.extend(true,{},C.defaults,a);if(a.keys!==x){C.opts.keys=a.keys?w.extend({},C.defaults.keys,a.keys):false}C.group=b;return C._start(C.opts.index||0)},cancel:function(){var a=C.coming;if(!a||false===C.trigger("onCancel")){return}C.hideLoading();if(a.wrap){a.wrap.stop().trigger("onReset").remove()}C.coming=null;if(C.ajaxLoad){C.ajaxLoad.abort()}C.ajaxLoad=null;if(C.imgPreload){C.imgPreload.onload=C.imgPreload.onerror=null}},close:function(a){C.cancel();if(!C.current||false===C.trigger("beforeClose")){return}C.unbindEvents();if(!C.isOpen||a===true){w(".fancybox-wrap").stop().trigger("onReset").remove();C._afterZoomOut()}else{C.isOpen=C.isOpened=false;C.isClosing=true;w(".fancybox-item").remove();C.wrap.stop(true).removeClass("fancybox-opened");if(C.wrap.css("position")==="fixed"){C.wrap.css(C._getPosition(true))}C.transitions[C.current.closeMethod]()}},play:function(c){var a=function(){clearTimeout(C.player.timer)},e=function(){a();if(C.current&&C.player.isActive){C.player.timer=setTimeout(C.next,C.current.playSpeed)}},b=function(){a();w("body").unbind(".player");C.player.isActive=false;C.trigger("onPlayEnd")},d=function(){if(C.current&&(C.current.loop||C.current.index<C.group.length-1)){C.player.isActive=true;w("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":b,"beforeLoad.player":a});e();C.trigger("onPlayStart")}};if(c===true||(!C.player.isActive&&c!==false)){d()}else{b()}},next:function(b){var a=C.current;if(a){if(!B(b)){b=a.direction.next}C.jumpto(a.index+1,b,"next")}},prev:function(b){var a=C.current;if(a){if(!B(b)){b=a.direction.prev}C.jumpto(a.index-1,b,"prev")}},startTouch:function(a){if(a.touches.length==1){G=a.touches[0].pageX;F=a.touches[0].pageY;v=true;this.addEventListener("touchmove",C.moveTouch,false);this.addEventListener("touchend",C.cancelTouch,false)}},moveTouch:function(f){if(C.preventE){f.preventDefault()}if(v){var c=f.touches[0].pageX;var a=f.touches[0].pageY;var e=G-c;var d=F-a;var b=C.current.minMoveX;var g=C.current.minMoveY;if(Math.abs(e)>=b){C.cancelTouch();if(e>0){C.next()}else{C.prev()}}}},cancelTouch:function(){E.body.removeEventListener("touchmove",C.moveTouch,false);E.body.removeEventListener("touchend",C.cancelTouch,false);G=null;F=null;v=false},jumpto:function(b,d,a){var c=C.current;if(!c){return}b=parseInt(b,10);C.direction=d||(b>c.index?"right":"left");C.router=a||"jumpto";if(c.loop){if(b<0){b=c.group.length+(b%c.group.length)}b=b%c.group.length}if(c.group[b]!==x){C.cancel();C._start(b)}},reposition:function(b,a){var c;if(C.isOpen){c=C._getPosition(a);if(b&&b.type==="scroll"){delete c.position;C.wrap.stop(true,true).animate(c,200)}else{C.wrap.css(c)}}},update:function(c){var b=!c||(c&&c.type==="orientationchange"),a=c&&c.type==="scroll";if(b){clearTimeout(H);H=null}if(!C.isOpen||H){return}if(b&&A){C.wrap.removeAttr("style").addClass("fancybox-tmp");C.trigger("onUpdate")}H=setTimeout(function(){var d=C.current;H=null;if(!d){return}C.wrap.removeClass("fancybox-tmp");if((d.autoResize&&!a)||b){C._setDimension();C.trigger("onUpdate")}if((d.autoCenter&&!(a&&d.canShrink))||b){C.reposition(c)}C.trigger("onUpdate")},(b?20:300))},toggle:function(a){if(C.isOpen){C.current.fitToView=w.type(a)==="boolean"?a:!C.current.fitToView;C.update()}},hideLoading:function(){D.unbind("keypress.fb");w("#fancybox-loading").remove()},showLoading:function(){var b,a;C.hideLoading();D.bind("keypress.fb",function(c){if((c.which||c.keyCode)===27){c.preventDefault();C.cancel()}});b=w('<div id="fancybox-loading"><div></div></div>').click(C.cancel).appendTo("body");if(C.coming&&!C.coming.fixed){a=C.getViewport();b.css({position:"absolute",top:(a.h*0.5)+a.y,left:(a.w*0.5)+a.x})}},getViewport:function(){return{x:u.scrollLeft(),y:u.scrollTop(),w:A&&y.innerWidth?y.innerWidth:u.width(),h:A&&y.innerHeight?y.innerHeight:u.height()}},unbindEvents:function(){if(C.wrap&&z(C.wrap)){C.wrap.unbind(".fb")}D.unbind(".fb");u.unbind(".fb")},bindEvents:function(){var b=C.current,a;if(!b){return}u.bind("resize.fb orientationchange.fb"+(b.autoCenter&&!b.fixed?" scroll.fb":""),C.update);a=b.keys;if(a){D.bind("keydown.fb",function(e){var c=e.which||e.keyCode,d=e.target||e.srcElement;if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!(d&&(d.type||w(d).is("[contenteditable]")))){w.each(a,function(f,g){if(b.group.length>1&&g[c]!==x){C[f](g[c]);e.preventDefault();return false}if(w.inArray(c,g)>-1){C[f]();e.preventDefault();return false}})}})}if(w.fn.mousewheel&&b.mouseWheel){C.wrap.bind("mousewheel.fb",function(i,c,e,d){var h=i.target||null,f=w(h),g=false;while(f.length){if(g||f.is(".fancybox-skin")||f.is(".fancybox-wrap")){break}g=s(f[0]);f=w(f).parent()}if(c!==0&&!g){if(C.group.length>1&&!b.canShrink){if(d>0||e>0){C.prev(d>0?"up":"left")}else{if(d<0||e<0){C.next(d<0?"down":"right")}}i.preventDefault()}else{if(C.wrap.css("position")==="fixed"){i.preventDefault()}}}})}},trigger:function(b,d){var a,c=d||C[w.inArray(b,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(!c){return}if(w.isFunction(c[b])){a=c[b].apply(c,Array.prototype.slice.call(arguments,1))}if(a===false){return false}if(c.helpers){w.each(c.helpers,function(f,e){if(e&&C.helpers[f]&&w.isFunction(C.helpers[f][b])){C.helpers[f][b](e,c)}})}w.event.trigger(b+".fb")},isImage:function(a){return B(a)&&a.match(/\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$/i)},isSWF:function(a){return B(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(b){var c={},g=C.group[b]||null,a,d,e,f;if(!g){return false}c=w.extend(true,{},C.opts,g);e=c.margin;f=c.padding;if(w.type(e)==="number"){c.margin=[e,e,e,e]}if(w.type(f)==="number"){c.padding=[f,f,f,f]}if(c.modal){w.extend(true,c,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:false}}})}if(c.autoSize){c.autoWidth=c.autoHeight=true}if(c.width==="auto"){c.autoWidth=true}if(c.height==="auto"){c.autoHeight=true}c.group=C.group;c.index=b;C.coming=c;if(false===C.trigger("beforeLoad")){C.coming=null;return}d=c.type;a=c.href;if(!d){C.coming=null;if(C.current&&C.router&&C.router!=="jumpto"){C.current.index=b;return C[C.router](C.direction)}return false}C.isActive=true;if(d==="image"||d==="swf"){c.autoHeight=c.autoWidth=false;c.scrolling="visible"}if(d==="image"){c.aspectRatio=true}if(d==="iframe"&&A){c.scrolling="scroll"}c.wrap=w(c.tpl.wrap).addClass("fancybox-"+(A?"mobile":"desktop")+" fancybox-type-"+d+" fancybox-tmp "+c.wrapCSS).appendTo(c.parent);w.extend(c,{skin:w(".fancybox-skin",c.wrap),outer:w(".fancybox-outer",c.wrap),inner:w(".fancybox-inner",c.wrap)});w.each(["Top","Right","Bottom","Left"],function(h,i){c.skin.css("padding"+i,t(c.padding[h]))});if(d==="inline"||d==="html"){if(!c.content||!c.content.length){return C._error("content")}}else{if(!a){return C._error("href")}}if(d==="image"){C._loadImage()}else{if(d==="ajax"){C._loadAjax()}else{if(d==="iframe"){C._loadIframe()}else{C._afterLoad()}}}},_error:function(a){w.extend(C.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:C.coming.tpl.error});C._afterLoad()},_loadImage:function(){var a=C.imgPreload=new Image();a.onload=function(){this.onload=this.onerror=null;C.coming.width=this.width;C.coming.height=this.height;C._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;C._error("image")};a.src=C.coming.href;if(a.complete===x||!a.complete){C.showLoading()}},_loadAjax:function(){var a=C.coming;C.showLoading();C.ajaxLoad=w.ajax(w.extend({},a.ajax,{url:a.href,error:function(b,c){if(C.coming&&c!=="abort"){C._error("ajax",b)}else{C.hideLoading()}},success:function(b,c){if(c==="success"){a.content=b;C._afterLoad()}}}))},_loadIframe:function(){var a=C.coming,b=w(a.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",A?"auto":a.iframe.scrolling).attr("src",a.href);w(a.wrap).bind("onReset",function(){try{b.hide().parent().empty()}catch(c){}});if(a.iframe.preload){C.showLoading();b.bind("load",function(){w(this).unbind().bind("load.fb",C.update).data("ready",1);C.coming.wrap.removeClass("fancybox-tmp").show();C._afterLoad()})}a.content=b.appendTo(a.inner);if(!a.iframe.preload){C._afterLoad()}},_preloadImages:function(){var f=C.group,e=C.current,a=f.length,c=e.preload?Math.min(e.preload,a-1):0,d,b;for(b=1;b<=c;b+=1){d=f[(e.index+b)%a];if(d.type==="image"&&d.href){new Image().src=d.href}}},_afterLoad:function(){var b=C.coming,e=C.current,g,d,c,f,a,h;C.hideLoading();if(!b||false===C.trigger("afterLoad",b,e)){C.coming.wrap.stop().trigger("onReset").remove();C.coming=null;return}if(e){C.trigger("beforeChange",e);e.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item").remove();if(e.wrap.css("position")==="fixed"){e.wrap.css(C._getPosition(true))}}C.unbindEvents();g=b;d=b.content;c=b.type;f=b.scrolling;w.extend(C,{wrap:g.wrap,skin:g.skin,outer:g.outer,inner:g.inner,current:g,previous:e});a=g.href;switch(c){case"inline":case"ajax":case"html":if(g.selector){d=w("<div>").html(d).find(g.selector)}else{if(z(d)){d=d.show().detach();g.wrap.bind("onReset",function(){w(this).find(".fancybox-inner").children().appendTo(g.parent).hide()})}}break;case"image":d=g.tpl.image.replace("{href}",a);break;case"swf":d='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+a+'"></param>';h="";w.each(g.swf,function(i,j){d+='<param name="'+i+'" value="'+j+'"></param>';h+=" "+i+'="'+j+'"'});d+='<embed src="'+a+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>";break}if(!(g.type==="iframe"&&g.iframe.preload)){g.inner.append(d)}C.trigger("beforeShow");C._setDimension();g.wrap.removeClass("fancybox-tmp");g.inner.css("overflow",f==="yes"?"scroll":(f==="no"?"hidden":f));g.pos=w.extend({},g.dim,C._getPosition(true));C.isOpen=false;C.coming=null;C.bindEvents();if(!C.isOpened){w(".fancybox-wrap").not(g.wrap).stop().trigger("onReset").remove()}else{if(e.prevMethod){C.transitions[e.prevMethod]()}}C.transitions[C.isOpened?g.nextMethod:g.openMethod]();C._preloadImages()},_setDimension:function(){var ai=C.getViewport(),aa=0,am=false,aq=false,e=C.wrap,q=C.skin,b=C.inner,n=C.current,o=n.width,l=n.height,h=n.minWidth,ap=n.minHeight,ae=n.maxWidth,m=n.maxHeight,g=n.scrolling,al=n.scrollOutside,k=n.margin,an=k[1]+k[3],aj=k[0]+k[2],af,ad,r,ac,j,i,p,c,a,ak,ah,ao,ab,d,f;e.add(q).add(b).width("auto").height("auto");af=q.outerWidth(true)-q.width();ad=q.outerHeight(true)-q.height();r=an+af;ac=aj+ad;j=J(o)?(ai.w-r)*parseFloat(o)/100:o;i=J(l)?(ai.h-ac)*parseFloat(l)/100:l;if(n.type==="iframe"){d=n.content;if(n.autoHeight&&d.data("ready")===1){try{if(d[0].contentWindow.document.location){b.width(j).height(9999);f=d.contents().find("body");if(al){f.css("overflow-x","hidden")}i=f.height()}}catch(ag){}}}else{if(n.autoWidth||n.autoHeight){b.addClass("fancybox-tmp");if(n.autoWidth){j=b.width()}if(n.autoHeight){i=b.height()}b.removeClass("fancybox-tmp")}}o=I(j);l=I(i);a=j/i;h=I(J(h)?I(h,"w")-r:h);ae=I(J(ae)?I(ae,"w")-r:ae);ap=I(J(ap)?I(ap,"h")-ac:ap);m=I(J(m)?I(m,"h")-ac:m);p=ae;c=m;ao=ai.w-an;ab=ai.h-aj;if(n.aspectRatio){if(o>ae){o=ae;l=o/a}if(l>m){l=m;o=l*a}if(o<h){o=h;l=o/a}if(l<ap){l=ap;o=l*a}}else{o=Math.max(h,Math.min(o,ae));l=Math.max(ap,Math.min(l,m))}if(n.fitToView){ae=Math.min(ai.w-r,ae);m=Math.min(ai.h-ac,m);b.width(I(o)).height(I(l));e.width(I(o+af));ak=e.width();ah=e.height();if(n.aspectRatio){while((ak>ao||ah>ab)&&o>h&&l>ap){if(aa++>19){break}l=Math.max(ap,Math.min(m,l-10));o=l*a;if(o<h){o=h;l=o/a}if(o>ae){o=ae;l=o/a}b.width(I(o)).height(I(l));e.width(I(o+af));ak=e.width();ah=e.height()}}else{o=Math.max(h,Math.min(o,o-(ak-ao)));l=Math.max(ap,Math.min(l,l-(ah-ab)))}}if(al&&g==="auto"&&l<i&&(o+af+al)<ao){o+=al}b.width(I(o)).height(I(l));e.width(I(o+af));ak=e.width();ah=e.height();am=(ak>ao||ah>ab)&&o>h&&l>ap;aq=n.aspectRatio?(o<p&&l<c&&o<j&&l<i):((o<p||l<c)&&(o<j||l<i));w.extend(n,{dim:{width:t(ak),height:t(ah)},origWidth:j,origHeight:i,canShrink:am,canExpand:aq,wPadding:af,hPadding:ad,wrapSpace:ah-q.outerHeight(true),skinSpace:q.height()-l});if(!d&&n.autoHeight&&l>ap&&l<m&&!aq){b.height("auto")}},_getPosition:function(c){var g=C.current,b=C.getViewport(),e=g.margin,d=C.wrap.width()+e[1]+e[3],a=C.wrap.height()+e[0]+e[2],f={position:"absolute",top:e[0]+b.y,left:e[3]+b.x};if(g.autoCenter&&g.fixed&&!c&&a<=b.h&&d<=b.w){f={position:"fixed",top:e[0],left:e[3]}}f.top=t(Math.max(f.top,f.top+((b.h-a)*g.topRatio)));f.left=t(Math.max(f.left,f.left+((b.w-d)*0.5)));return f},_afterZoomIn:function(){var a=C.current;if(!a){return}C.isOpen=C.isOpened=true;C.wrap.addClass("fancybox-opened").css("overflow","visible");C.reposition();if(a.closeClick||a.nextClick){C.inner.css("cursor","pointer").bind("click.fb",function(b){if(!w(b.target).is("a")&&!w(b.target).parent().is("a")){C[a.closeClick?"close":"next"]()}})}if(a.closeBtn){w(a.tpl.closeBtn).appendTo(C.skin).bind("click.fb",C.close)}if(a.arrows&&C.group.length>1){if(a.loop||a.index>0){w(a.tpl.prev).appendTo(C.outer).bind("click.fb",C.prev)}if(a.loop||a.index<C.group.length-1){w(a.tpl.next).appendTo(C.outer).bind("click.fb",C.next)}}C.trigger("afterShow");if(C.opts.autoPlay&&!C.player.isActive){C.opts.autoPlay=false;C.play()}},_afterZoomInFade:function(){var a=C.current;if(!a){return}C.isOpen=C.isOpened=true;C.wrap.addClass("fancybox-opened").css("overflow","visible");C.reposition();if(a.closeClick||a.nextClick){C.inner.css("cursor","pointer").bind("click.fb",function(b){if(!w(b.target).is("a")&&!w(b.target).parent().is("a")){C[a.closeClick?"close":"next"]()}})}if(a.closeBtn){w(a.tpl.closeBtn).appendTo(C.skin).bind("click.fb",C.close)}if(a.arrows&&C.group.length>1){if(a.loop||a.index>0){w(a.tpl.prev).appendTo(C.outer).bind("click.fb",C.prev)}if(a.loop||a.index<C.group.length-1){w(a.tpl.next).appendTo(C.outer).bind("click.fb",C.next)}}C.trigger("afterShow");if(!a.loop&&a.index===a.group.length-1){C.play(false)}else{if(C.opts.autoPlay&&!C.player.isActive){C.opts.autoPlay=false;C.play()}}},_afterZoomOut:function(){var a=C.current;C.wrap.trigger("onReset").remove();w.extend(C,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});C.trigger("afterClose",a)}});C.transitions={getOrigPosition:function(){var e=C.current,c=e.element,h=w(e.orig),g={},b=50,i=50,f=e.hPadding,a=e.wPadding,d;if(!h.length&&e.isDom&&c.is(":visible")){h=c.find("img:first");if(!h.length){h=c}}if(h.length){g=h.offset();if(h.is("img")){b=h.outerWidth();i=h.outerHeight()}}else{d=C.getViewport();g.top=d.y+(d.h-i)*0.5;g.left=d.x+(d.w-b)*0.5}g={top:t(g.top-f*0.5),left:t(g.left-a*0.5),width:t(b+a),height:t(i+f)};return g},step:function(c,d){var f,h,i,b=d.prop,e=C.current,g=e.wrapSpace,a=e.skinSpace;if(b==="width"||b==="height"){f=d.end===d.start?1:(c-d.start)/(d.end-d.start);if(C.isClosing){f=1-f}h=b==="width"?e.wPadding:e.hPadding;i=c-h;C.skin[b](I(b==="width"?i:i-(g*f)));C.inner[b](I(b==="width"?i:i-(g*f)-(a*f)))}},zoomIn:function(){var e=C.current,b=e.pos,c=e.openEffect,d=c==="elastic",a=w.extend({opacity:1},b);delete a.position;if(d){b=this.getOrigPosition();if(e.openOpacity){b.opacity=0.1}}else{if(c==="fade"){b.opacity=0.1}}C.wrap.css(b).animate(a,{duration:c==="none"?0:e.openSpeed,easing:e.openEasing,step:d?this.step:null,complete:C._afterZoomIn})},zoomOut:function(){var d=C.current,b=d.closeEffect,c=b==="elastic",a={opacity:0.1};if(c){a=this.getOrigPosition();if(d.closeOpacity){a.opacity=0.1}}C.wrap.animate(a,{duration:b==="none"?0:d.closeSpeed,easing:d.closeEasing,step:c?this.step:null,complete:C._afterZoomOut})},changeIn:function(){var f=C.current,c=f.nextEffect,b=f.pos,a={opacity:1},e=C.direction,g=200,d;b.opacity=0.1;if(c==="elastic"){d=e==="down"||e==="up"?"top":"left";if(e==="up"||e==="left"){b[d]=t(parseInt(b[d],10)-g);a[d]="+="+g+"px"}else{b[d]=t(parseInt(b[d],10)+g);a[d]="-="+g+"px"}}if(c==="none"){C._afterZoomInFade()}else{C.wrap.css(b).animate(a,{duration:c==="none"?0:f.nextSpeed,easing:f.nextEasing,complete:function(){setTimeout(C._afterZoomIn,10)}})}},changeOut:function(){var c=C.previous,b=c.prevEffect,a={opacity:0.1},d=C.direction,e=200;if(b==="elastic"){a[d==="down"||d==="up"?"top":"left"]=(d==="down"||d==="right"?"-":"+")+"="+e+"px"}c.wrap.animate(a,{duration:b==="none"?0:c.prevSpeed,easing:c.prevEasing,complete:function(){w(this).trigger("onReset").remove()}})}};C.helpers.overlay={overlay:null,update:function(){var c,a,b;this.overlay.width("100%").height("100%");if(w.browser.msie||A){a=Math.max(E.documentElement.scrollWidth,E.body.scrollWidth);b=Math.max(E.documentElement.offsetWidth,E.body.offsetWidth);c=a<b?u.width():a}else{c=D.width()}this.overlay.width(c).height(D.height())},beforeShow:function(b){var a;if(this.overlay){return}b=w.extend(true,{},C.defaults.helpers.overlay,b);a=this.overlay=w('<div id="fancybox-overlay"></div>').css(b.css).appendTo("body").bind("mousewheel",function(c){if(!C.wrap||(C.wrap.css("position")==="fixed"||C.wrap.is(":animated"))){c.preventDefault()}});if(("ontouchstart" in y)||y.DocumentTouch&&E instanceof DocumentTouch){E.body.addEventListener("touchstart",C.startTouch,false)}if(b.closeClick){a.bind("click.fb",C.close)}if(C.defaults.fixed&&!A){a.addClass("overlay-fixed")}else{this.update();this.onUpdate=function(){this.update()}}a.fadeTo(b.speedIn,b.opacity)},afterClose:function(a){if(this.overlay){this.overlay.fadeOut(a.speedOut||0,function(){w(this).remove()})}this.overlay=null}};C.helpers.title={beforeShow:function(b){var e=C.current.title,a=b.type,d,c;if(!B(e)||w.trim(e)===""){return}e="";d=w('<div class="fancybox-title fancybox-title-'+a+'-wrap">'+e+"</div>");switch(a){case"inside":c=C.skin;break;case"outside":c=C.wrap;break;case"over":c=C.inner;break;default:c=C.skin;d.appendTo("body").width(d.width());C.current.margin[2]+=Math.abs(parseInt(d.css("margin-bottom"),10));break}if(b.position==="top"){d.prependTo(c)}else{d.appendTo(c)}}};w.fn.fancybox=function(c){var b,d=w(this),a=this.selector||"",e=function(f){var j=this,h=b,i,g;if(!(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey)&&!w(j).is(".fancybox-wrap")){i=c.groupAttr||"data-fancybox-group";g=w(j).attr(i);if(!g){i="rel";g=j[i]}if(g&&g!==""&&g!=="nofollow"){j=a.length?w(a):d;j=j.filter("["+i+'="'+g+'"]');h=j.index(this)}c.index=h;if(C.open(j,c)!==false){f.preventDefault()}}};c=c||{};b=c.index||0;if(!a||c.live===false){d.unbind("click.fb-start").bind("click.fb-start",e)}else{D.undelegate(a,"click.fb-start").delegate(a+":not('.fancybox-item, .fancybox-nav')","click.fb-start",e)}return this};if(!w.scrollbarWidth){w.scrollbarWidth=function(){var b,c,a;b=w('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body");c=b.children();a=c.innerWidth()-c.height(99).innerWidth();b.remove();return a}}D.ready(function(){w.extend(C.defaults,{scrollOutside:w.scrollbarWidth(),fixed:w.support.fixedPosition||!((w.browser.msie&&w.browser.version<=6)||A),parent:w("body")})})}(window,document,jQuery));