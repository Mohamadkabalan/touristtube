$.fn.preloader=function(j){var c={delay:200,preload_parent:"a",check_timer:300,ondone:function(){},oneachload:function(i){},fadein:250};var j=$.extend(c,j),k=$(this),g=k.find("img").css({visibility:"hidden",opacity:0}),l,b=0,e=0,a=[],d=j.delay,h=function(){l=setInterval(function(){if(b>=a.length){clearInterval(l);j.ondone();return}for(e=0;e<g.length;e++){if(g[e].complete==true){if(a[e]==false){a[e]=true;j.oneachload(g[e]);b++;d=d+j.delay}$(g[e]).css("visibility","visible").delay(d).animate({opacity:1},j.fadein,function(){$(this).parent().removeClass("preloader")})}}},j.check_timer)};g.each(function(){if($(this).parent(j.preload_parent).length==0){$(this).wrap("<a class='preloader' />")}else{$(this).parent().addClass("preloader")}a[e++]=false});g=$.makeArray(g);var f=jQuery("<img />",{id:"loadingicon",src:"css/i/89.gif"}).hide().appendTo("body");l=setInterval(function(){if(f[0].complete==true){clearInterval(l);h();f.remove();return}},100)};