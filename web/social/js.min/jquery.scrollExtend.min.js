jQuery.fn.onScrollBeyond=function(a,c){var b=this;if(a=="disable"){jQuery(b).data("onScrollBeyond-disabled",true);return}if(a=="enable"){jQuery(b).data("onScrollBeyond-disabled",false);return}var d={buffer:20,fireOnDocEnd:true,fireOnBeyondElement:true};jQuery.extend(d,c);jQuery(window).bind("scroll",function(){var f=false;var g=jQuery(b);if(g.data("onScrollBeyond-disabled")==true){return}if(d.fireOnBeyondElement){if(jQuery(document).scrollTop()>(g.position().top+g.height())){f=true}}if(!f&&d.fireOnDocEnd){var e=jQuery(document).scrollTop()-g.position().top;if((e+g.position().top+jQuery(window).height()+d.buffer)>jQuery(document).height()){f=true}}if(f){a.call(this,b)}});return this};jQuery.fn.scrollExtend=function(c){if(c=="disable"){jQuery(this).data("scrollExtend-disabled",true);return}if(c=="enable"){jQuery(this).data("scrollExtend-disabled",false);return}var d={url:null,beforeStart:null,onSuccess:null,target:null,loadingIndicatorEnabled:true,loadingIndicatorClass:"scrollExtend-loading",newElementClass:"",ajaxSettings:{}};var e;var b={};var a=d.ajaxSettings;jQuery.extend(d,c);jQuery.extend(a,d.ajaxSettings);jQuery(this).onScrollBeyond(function(f){var g=jQuery(f);if(g.data("scrollExtend-disabled")!=true&&g.data("scrollExtendLoading")!=true){g.data("scrollExtendLoading",true);if(typeof(d.beforeStart)=="function"){var j=d.beforeStart.call(this,f);if(!j){g.data("scrollExtendLoading",false);return}}if(g.data("scrollExtend-disabled")==true){g.data("scrollExtendLoading",false);return}if(typeof(d.url)=="function"){e=d.url.call(this,f)}else{e=d.url}a.url=e;var k=(d.target)?d.target:f;var i=(f.is("table"))?jQuery("<tbody/>"):jQuery("<li></li>");if(d.newElementClass!=""){jQuery(i).addClass(d.newElementClass)}if(d.loadingIndicatorEnabled){var h=jQuery("<li></li>");h.addClass(d.loadingIndicatorClass);h.appendTo(k)}b={success:function(l,n){if(l.length>0){var m=(d.target)?d.target:f;$(m).append(l);if(typeof(d.onSuccess)=="function"){d.onSuccess.call(this,f,i)}}jQuery(f).data("scrollExtendLoading",false);if(d.loadingIndicatorEnabled){h.remove()}}};jQuery.extend(a,b);jQuery.ajax(a)}},d);return this};