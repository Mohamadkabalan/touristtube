$(document).ready(function(){addAutoCompleteList("city_locations");google.maps.event.addDomListener(window,"load",initialize);$(document).on("keypress","#pac-input",function(a){if(a.keyCode==13){return false}});$(document).on("click","#addmoreroom",function(a){a.preventDefault();var b=$("#addHotelbox").html();$("#addHotelbox").append(b)});$("#submit").click(function(){if(!ValidateAddHotelForm()){return false}else{$("#add_hotel").submit()}})});function initialize(){var e=null;var f=null;function c(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(j)}else{console.log("Geo location is not supported by this browser")}}function j(l){e=l.coords.latitude;f=l.coords.longitude;var k=new google.maps.LatLngBounds(new google.maps.LatLng(e,f),new google.maps.LatLng(e,f));g.fitBounds(k)}var h=[];var b=b=new google.maps.Geocoder();var g=new google.maps.Map(document.getElementById("map"),{mapTypeId:google.maps.MapTypeId.ROADMAP});e=e?e:-33.8902;f=f?f:151.1759;c();var a=new google.maps.LatLngBounds(new google.maps.LatLng(e,f),new google.maps.LatLng(e,f));g.fitBounds(a);var d=(document.getElementById("pac-input"));g.controls[google.maps.ControlPosition.TOP_LEFT].push(d);var i=new google.maps.places.SearchBox((d));google.maps.event.addListener(i,"places_changed",function(){var p=i.getPlaces();if(p.length==0){return}for(var l=0,n;n=h[l];l++){n.setMap(null)}h=[];var k=new google.maps.LatLngBounds();for(var l=0,o;o=p[l];l++){var m={url:o.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};var n=new google.maps.Marker({map:g,icon:m,title:o.name,position:o.geometry.location,animation:google.maps.Animation.DROP,draggable:true});h.push(n);k.extend(o.geometry.location);$("#latitude").val(o.geometry.location.lat());$("#longitude").val(o.geometry.location.lng());google.maps.event.addListener(n,"dragend",function(r){var s,u,q;b.geocode({latLng:n.getPosition()},function(v,w){if(w==google.maps.GeocoderStatus.OK){s=n.getPosition().lat();u=n.getPosition().lng();q=v[0].formatted_address}})})}g.fitBounds(k)});google.maps.event.addListener(g,"bounds_changed",function(){var k=g.getBounds();i.setBounds(k)})}function addAutoCompleteList(b){var a=$("input[name=city]",$("#"+b));a.autocomplete({appendTo:"#"+b,search:function(e,f){var c=$("#country");var d=c.val();if(d=="ZZ"){c.addClass("err");e.preventDefault()}else{a.autocomplete("option","source",ReturnLink("/ajax/uploadGetCities.php?cc="+d))}},select:function(c,d){a.val(d.item.value);$("#cityid").val(d.item.id);c.preventDefault()}})}function validateEmail(a){var b=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i;return b.test(a)}function IsNumeric(a){var b=/^-{0,1}\d*\.{0,1}\d+$/;return(b.test(a))}function validateURL(a){var b=new RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$");return b.test(a)}function phonenumber(a){var b=a.trim();if(!isNaN(b)&&b>=9){return true}else{return false}}function ValidateAddHotelForm(){if($("#property").val()==""){TTAlert({msg:t("Please choose property type."),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#property").focus();return false}else{if($("#country").val()==""){TTAlert({msg:t("Please select your country."),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#country").focus();return false}else{if($("#hotel_title").val()==""){TTAlert({msg:t("Please Enter a title for your Hotel"),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#hotel_title").focus();return false}else{if($("#country_id").val()==""){TTAlert({msg:t("Please select a city."),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#country_id").focus();return false}else{if($("#property").val()=="0"&&$("#stars").val()==""){TTAlert({msg:t("Please select a rating for your hotel."),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#stars").focus();return false}else{if($("#pac-input").val()==""){TTAlert({msg:t("please select the location of your hotel in map."),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#pac-input").focus();return false}else{if($("#price").val()!=""&&!IsNumeric($("#price").val())){TTAlert({msg:t("Enter a valid Cost"),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#price_rest").focus();return false}else{if($("#address").val()==""){TTAlert({msg:t("Please Enter a valid address."),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#address").focus();return false}else{if($("#email").val()==""){TTAlert({msg:t("Please insert your email address"),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#email").focus();return false}else{if(!validateEmail($("#email").val())){TTAlert({msg:t("Please insert a valid email address"),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#email").focus();return false}else{if(!phonenumber($("#phone").val())){TTAlert({msg:t("Please enter a valid Phone number"),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#phone_poi").focus();return false}else{if($("#rm_nop").val()!=""&&!IsNumeric($("#rm_nop").val())){TTAlert({msg:t("Please Enter valid number of persons."),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#rm_nop").focus();return false}else{if(("#rm_price").val()!=""&&!IsNumeric$(("#rm_price").val())){TTAlert({msg:t("Please enter a valid cost"),type:"alert",btn1:"ok",btn2:"",btn2Callback:null});$("#rm_price").focus();return false}else{return true}}}}}}}}}}}}}};