(function(a){a.fn.zAccordion=function(d){var b={timeout:6000,width:null,slideWidth:null,tabWidth:null,height:null,startingSlide:0,slideClass:null,easing:null,speed:1200,auto:true,trigger:"click",pause:true,invert:false,animationStart:function(){},animationComplete:function(){},buildComplete:function(){},errors:false},c={displayError:function(g,f){if(window.console&&f){console.log("zAccordion: "+g+".")}},findChildElements:function(f){if(f.children().get(0)===undefined){return false}else{return true}},getNext:function(h,f){var g=f+1;if(g>=h){g=0}return g},fixHeight:function(f){if((f.height===null)&&(f.slideHeight!==undefined)){f.height=f.slideHeight;return true}else{if((f.height!==null)&&(f.slideHeight===undefined)){return true}else{if((f.height===null)&&(f.slideHeight===undefined)){return false}}}},getUnits:function(f){if(f!==null){if(f.toString().indexOf("%")>-1){return"%"}else{if(f.toString().indexOf("px")>-1){return"px"}else{return"px"}}}},toInteger:function(f){if(f!==null){return parseInt(f,10)}},sizeAccordion:function(g,f){if((f.width===undefined)&&(f.slideWidth===undefined)&&(f.tabWidth===undefined)){c.displayError("width must be defined",f.errors);return false}else{if((f.width!==undefined)&&(f.slideWidth===undefined)&&(f.tabWidth===undefined)){if((f.width>100)&&(f.widthUnits==="%")){c.displayError("width cannot be over 100%",f.errors);return false}else{f.slideWidthUnits=f.widthUnits;f.tabWidthUnits=f.widthUnits;if(f.widthUnits==="%"){f.tabWidth=100/(g.children().size()+1);f.slideWidth=100-((g.children().size()-1)*f.tabWidth)}else{f.tabWidth=f.width/(g.children().size()+1);f.slideWidth=f.width-((g.children().size()-1)*f.tabWidth)}return true}}else{if((f.width===undefined)&&(f.slideWidth!==undefined)&&(f.tabWidth===undefined)){c.displayError("width must be defined",f.errors);return false}else{if((f.width===undefined)&&(f.slideWidth===undefined)&&(f.tabWidth!==undefined)){c.displayError("width must be defined",f.errors);return false}else{if((f.width!==undefined)&&(f.slideWidth===undefined)&&(f.tabWidth!==undefined)){if(f.widthUnits!==f.tabWidthUnits){c.displayError("Units do not match",f.errors);return false}else{if((f.width>100)&&(f.widthUnits==="%")){c.displayError("width cannot be over 100%",f.errors);return false}else{if((((g.children().size()*f.tabWidth)>100)&&(f.widthUnits==="%"))||(((g.children().size()*f.tabWidth)>f.width)&&(f.widthUnits==="px"))){c.displayError("tabWidth too large for accordion",f.errors);return false}else{f.slideWidthUnits=f.widthUnits;if(f.widthUnits==="%"){f.slideWidth=100-((g.children().size()-1)*f.tabWidth)}else{f.slideWidth=f.width-((g.children().size()-1)*f.tabWidth)}return true}}}}else{if((f.width!==undefined)&&(f.slideWidth!==undefined)&&(f.tabWidth===undefined)){if(f.widthUnits!==f.slideWidthUnits){c.displayError("Units do not match",f.errors);return false}else{if((f.width>100)&&(f.widthUnits==="%")){c.displayError("width cannot be over 100%",f.errors);return false}else{if(f.slideWidth>=f.width){c.displayError("slideWidth cannot be greater than or equal to width",f.errors);return false}else{if((((g.children().size()*f.slideWidth)<100)&&(f.widthUnits==="%"))||(((g.children().size()*f.slideWidth)<f.width)&&(f.widthUnits==="px"))){c.displayError("slideWidth too small for accordion",f.errors);return false}else{f.tabWidthUnits=f.widthUnits;if(f.widthUnits==="%"){f.tabWidth=(100-f.slideWidth)/(g.children().size()-1)}else{f.tabWidth=(f.width-f.slideWidth)/(g.children().size()-1)}return true}}}}}else{if((f.width===undefined)&&(f.slideWidth!==undefined)&&(f.tabWidth!==undefined)){c.displayError("width must be defined",f.errors);return false}else{if((f.width!==undefined)&&(f.slideWidth!==undefined)&&(f.tabWidth!==undefined)){c.displayError("At maximum two of three attributes (width, slideWidth, and tabWidth) should be defined",f.errors);return false}}}}}}}}},timer:function(l){var k=l.data("next")+1;if(l.data("pause")&&l.data("inside")&&l.data("auto")){try{clearTimeout(l.data("interval"))}catch(h){}}else{if(l.data("pause")&&!l.data("inside")&&l.data("auto")){try{clearTimeout(l.data("interval"))}catch(i){}l.data("interval",setTimeout(function(){l.children(l.children().get(0).tagName+":nth-child("+k+")").trigger(l.data("trigger"))},l.data("timeout")))}else{if(!l.data("pause")&&l.data("auto")){try{clearTimeout(l.data("interval"))}catch(j){}l.data("interval",setTimeout(function(){l.children(l.children().get(0).tagName+":nth-child("+k+")").trigger(l.data("trigger"))},l.data("timeout")))}}}}},e={init:function(i){var g,h=["slideWidth","tabWidth","startingSlide","slideClass","animationStart","animationComplete","buildComplete"];for(g=0;g<h.length;g+=1){if(a(this).data(h[g].toLowerCase())!==undefined){a(this).data(h[g],a(this).data(h[g].toLowerCase()));a(this).removeData(h[g].toLowerCase())}}i=a.extend(b,i,a(this).data());if(this.length<=0){c.displayError("Selector does not exist",i.errors);return false}else{if(!c.fixHeight(i)){c.displayError("height must be defined",i.errors);return false}else{if(!c.findChildElements(this)){c.displayError("No child elements available",i.errors);return false}else{if(i.speed>i.timeout){c.displayError("Speed cannot be greater than timeout",i.errors);return false}else{i.heightUnits=c.getUnits(i.height);i.height=c.toInteger(i.height);i.widthUnits=c.getUnits(i.width);i.width=c.toInteger(i.width);i.slideWidthUnits=c.getUnits(i.slideWidth);i.slideWidth=c.toInteger(i.slideWidth);i.tabWidthUnits=c.getUnits(i.tabWidth);i.tabWidth=c.toInteger(i.tabWidth);if(i.slideClass!==null){i.slideOpenClass=i.slideClass+"-open";i.slideClosedClass=i.slideClass+"-closed";i.slidePreviousClass=i.slideClass+"-previous"}if(!c.sizeAccordion(this,i)){return false}else{return this.each(function(){var k=i,l=a(this),m=[],f,q,j,p,n=-1;f=k.slideWidth-k.tabWidth;q=l.get(0).tagName;j=l.children().get(0).tagName;p=l.children().size();l.data(a.extend({},{auto:k.auto,interval:null,timeout:k.timeout,trigger:k.trigger,current:k.startingSlide,previous:n,next:c.getNext(p,k.startingSlide),slideClass:k.slideClass,inside:false,pause:k.pause}));if(k.heightUnits==="%"){k.height=(l.parent().get(0).tagName==="BODY")?k.height*0.01*a(window).height():k.height*0.01*l.parent().height();k.heightUnits="px"}l.children().each(function(o){var t,r,s;r=k.invert?r=((p-1)*k.tabWidth)-(o*k.tabWidth):o*k.tabWidth;m[o]=r;t=k.invert?((p-1)-o)*10:o*10;if(k.slideClass!==null){a(this).addClass(k.slideClass)}a(this).css({top:0,"z-index":t,margin:0,padding:0,"float":"left",display:"block",position:"absolute",overflow:"hidden",width:k.slideWidth+k.widthUnits,height:k.height+k.heightUnits});if(j==="LI"){a(this).css({"text-indent":0})}if(k.invert){a(this).css({right:r+k.widthUnits,"float":"right"})}else{a(this).css({left:r+k.widthUnits,"float":"left"})}if(o===(k.startingSlide)){a(this).css("cursor","default");if(k.slideClass!==null){a(this).addClass(k.slideOpenClass)}}else{a(this).css("cursor","pointer");if(k.slideClass!==null){a(this).addClass(k.slideClosedClass)}if((o>(k.startingSlide))&&(!k.invert)){s=o+1;l.children(j+":nth-child("+s+")").css({left:m[s-1]+f+k.widthUnits})}else{if((o<(k.startingSlide))&&(k.invert)){s=o+1;l.children(j+":nth-child("+s+")").css({right:m[s-1]+f+k.widthUnits})}}}});l.css({display:"block",height:k.height+k.heightUnits,width:k.width+k.widthUnits,padding:0,position:"relative",overflow:"hidden"});if((q==="UL")||(q==="OL")){l.css({"list-style":"none"})}l.hover(function(){l.data("inside",true);if(l.data("pause")){try{clearTimeout(l.data("interval"))}catch(o){}}},function(){l.data("inside",false);if(l.data("auto")&&l.data("pause")){c.timer(l)}});l.children().bind(k.trigger,function(){if(a(this).index()!==l.data("current")){var r,s,t,o;t=n+1;o=l.data("current")+1;if((t!==0)&&(k.slideClass!==null)){l.children(j+":nth-child("+t+")").removeClass(k.slidePreviousClass)}l.children(j+":nth-child("+o+")");if(k.slideClass!==null){l.children(j+":nth-child("+o+")").addClass(k.slidePreviousClass)}n=l.data("current");l.data("previous",l.data("current"));t=n;t+=1;l.data("current",a(this).index());o=l.data("current");o+=1;l.children().css("cursor","pointer");a(this).css("cursor","default");if(k.slideClass!==null){l.children().addClass(k.slideClosedClass).removeClass(k.slideOpenClass);a(this).addClass(k.slideOpenClass).removeClass(k.slideClosedClass)}l.data("next",c.getNext(p,a(this).index()));c.timer(l);k.animationStart();if(k.invert){l.children(j+":nth-child("+o+")").stop().animate({right:m[l.data("current")]+k.widthUnits},k.speed,k.easing,k.animationComplete)}else{l.children(j+":nth-child("+o+")").stop().animate({left:m[l.data("current")]+k.widthUnits},k.speed,k.easing,k.animationComplete)}for(r=0;r<p;r+=1){s=r+1;if(r<l.data("current")){if(k.invert){l.children(j+":nth-child("+s+")").stop().animate({right:k.width-(s*k.tabWidth)+k.widthUnits},k.speed,k.easing)}else{l.children(j+":nth-child("+s+")").stop().animate({left:m[r]+k.widthUnits},k.speed,k.easing)}}if(r>l.data("current")){if(k.invert){l.children(j+":nth-child("+s+")").stop().animate({right:(p-s)*k.tabWidth+k.widthUnits},k.speed,k.easing)}else{l.children(j+":nth-child("+s+")").stop().animate({left:m[r]+f+k.widthUnits},k.speed,k.easing)}}}return false}});if(l.data("auto")){c.timer(l)}k.buildComplete()})}}}}}},stop:function(){if(a(this).data("auto")){clearTimeout(a(this).data("interval"));a(this).data("auto",false)}},start:function(){if(!a(this).data("auto")){var f=a(this).data("next")+1;a(this).data("auto",true);a(this).children(a(this).children().get(0).tagName+":nth-child("+f+")").trigger(a(this).data("trigger"))}},trigger:function(f){if((f>=a(this).children().size())||(f<0)){f=0}f+=1;a(this).children(a(this).children().get(0).tagName+":nth-child("+f+")").trigger(a(this).data("trigger"))},destroy:function(f){var i,h,g=a(this).data("slideClass");if(f!==undefined){i=(f.removeStyleAttr!==undefined)?f.removeStyleAttr:true;h=(f.removeClasses!==undefined)?f.removeClasses:false}clearTimeout(a(this).data("interval"));a(this).children().stop().unbind(a(this).data("trigger"));a(this).unbind("mouseenter mouseleave mouseover mouseout");if(i){a(this).removeAttr("style");a(this).children().removeAttr("style")}if(h){a(this).children().removeClass(g);a(this).children().removeClass(g+"-open");a(this).children().removeClass(g+"-closed");a(this).children().removeClass(g+"-previous")}a(this).removeData();if(f!==undefined){if(f.destroyComplete!=="undefined"){if(typeof(f.destroyComplete.afterDestroy)!=="undefined"){f.destroyComplete.afterDestroy()}if(f.destroyComplete.rebuild){return e.init.apply(this,[f.destroyComplete.rebuild])}}}}};if(e[d]){return e[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return e.init.apply(this,arguments)}else{a.error("zAccordion: "+d+" does not exist.")}}}}(jQuery));