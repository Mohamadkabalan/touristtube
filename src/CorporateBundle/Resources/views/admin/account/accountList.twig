{% extends 'basecorporateFinal.html.twig' %}
{% block pagenewjs %}
	<script type="text/javascript" src="{{ asset('/assets/corporate/admin/js/corporate-accountList.js')|raw }}"></script>
    <script type="text/javascript">
        {% if slug is defined %}
            window.slug = "{{slug}}";
        {% endif %}
        {% if salesUserId is defined %}
            window.salesUserId = "{{salesUserId}}";
        {% endif %}
    </script>
{% endblock %}  
{% block title %}
    {% if sectionTitle is defined %}
        {{sectionTitle|trans}}
    {% else %}
        {{'List Of Accounts'|trans}}
    {% endif %}
{% endblock %}
{% block body %}
    <section class="container corporate_common_new_container">
        <div class="row no-margin">
            <div class="col-xs-12 nopad">
                <div class="row no-margin margin_top_20 margin_bottom_40">
                    <div class="col-xs-12 nopad">
                        <h1 class="search_title"><span class="circlimg_arrow"><i class="fas fa-angle-right"></i></span>    
                            {% if sectionTitle is defined %}
                                {{sectionTitle|trans}}
                            {% else %}
                                {{'List Of Accounts'|trans}}
                            {% endif %}</h1>
                    </div>
                </div>
                <div class="row no-margin bordered_row"></div>
            </div>
            {% if viewOnly == false %}
            <div class="col-xs-12 nopad margin_top_10">
                {% if slug is defined %}
                    <a href="{{ path('_corpo_account_add_withslug', {'slug': slug}) }}" id="" class="addbut_style" rel="nofollow">{{'Add+'|trans}}</a>
                {% else %}
                    <a href="{{ generateLangRoute(LanguageGet, '_corpo_account_add') }}" id="" class="addbut_style" rel="nofollow">{{'Add+'|trans}}</a>
                {% endif %}
            </div>
            {% endif %}
            <div class="col-xs-12 nopad margin_top_20">
                <section class="content">
                    <table id="accountTbl" align="center" class="dataTable table table-striped table-bordered" cellspacing="0" width="100%" 
                        ajax_url 					= "{{ path('_corpo_account_datatable') }}"
                        default_order_column_id  	= "id_ID"
                        default_order_direction  	= "asc"
                        parameters = "slug,salesUserId"
                    >
                        <thead>
                            <tr>
                                <th id="id_ID" dbname="ca__id" width="50px">{{'Id'|trans}}</th>
                                <th id="name_ID" dbname="ca__name" width="100px">{{'Acount'|trans}}</th>
                                <th id="city_ID" dbname="c__name" width="100px">{{'City'|trans}}</th>
                                <th id="mobile_ID" dbname="ca__mobile" width="70px">{{'Mobile'|trans}}</th>
                                <th id="creditLimit_ID" dbname="ca__credit_limit" classname="dt-body-right" type="num-fmt" formatter="number" number-thousands="," number-decimals="." number-precision="2" prefix="" suffix="" width="100px">{{'Credit Limit'|trans}}</th>
                                <th id="currency_ID" dbname="ca__currency_code" width="70px">{{'Currency'|trans }}</th>
                                <th id="pcurrency_ID" dbname="ca__preferred_currency" width="70px">{{'Preferred Currency'|trans}}</th>
                                <th id="email_ID" dbname="ca__email" width="100px" visible="false">{{'Email'|trans}}</th>
                                {% if viewOnly == false %}
                                    <th id="actions" dbname="actions" skipDb="true" cell_handler="actionCellHandler" width="200px">{{'Actions'|trans}}</th>
                                {% endif %}
                            </tr>
                        </thead>
                    </table>
                    <br><br>
                </section>
            </div>            
        </div>
    </section>
{% endblock %} 
